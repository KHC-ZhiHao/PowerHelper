!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PowerHelper=e():t.PowerHelper=e()}(this||("undefined"!=typeof window?window:global),(()=>(()=>{"use strict";var t={941:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.devError=void 0,e.devError=function(t,e){throw new Error("PowerHelper (X_X) => ".concat(t," -> ").concat(e))}},620:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PowerHelper=e.AsyncLocalStorage=e.Asset=e.Once=e.Pool=e.Interaction=e.Exception=e.Breakpoint=e.CacheLite=e.PromiseOverlap=e.WebSocketClient=e.ElementListenerGroup=e.QueryCollection=e.LocalStorage=e.StyleString=e.JobsQueue=e.Debounce=e.Schedule=e.Reactive=e.Resource=e.Ticker=e.Loader=e.Timer=e.Cache=e.Event=e.Hook=e.I18n=e.Log=e.element=e.checker=e.detect=e.record=e.array=e.calc=e.pick=e.flow=e.json=e.text=void 0;var r=n(70);Object.defineProperty(e,"text",{enumerable:!0,get:function(){return r.text}});var o=n(86);Object.defineProperty(e,"json",{enumerable:!0,get:function(){return o.json}});var i=n(856);Object.defineProperty(e,"flow",{enumerable:!0,get:function(){return i.flow}});var a=n(38);Object.defineProperty(e,"pick",{enumerable:!0,get:function(){return a.pick}});var u=n(692);Object.defineProperty(e,"calc",{enumerable:!0,get:function(){return u.calc}});var s=n(966);Object.defineProperty(e,"array",{enumerable:!0,get:function(){return s.array}});var c=n(560);Object.defineProperty(e,"record",{enumerable:!0,get:function(){return c.record}});var l=n(81);Object.defineProperty(e,"detect",{enumerable:!0,get:function(){return l.detect}});var f=n(991);Object.defineProperty(e,"checker",{enumerable:!0,get:function(){return f.checker}});var p=n(888);Object.defineProperty(e,"element",{enumerable:!0,get:function(){return p.element}});var h=n(553);Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return h.Log}});var y=n(500);Object.defineProperty(e,"I18n",{enumerable:!0,get:function(){return y.I18n}});var d=n(846);Object.defineProperty(e,"Hook",{enumerable:!0,get:function(){return d.Hook}});var v=n(257);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return v.Event}});var m=n(684);Object.defineProperty(e,"Cache",{enumerable:!0,get:function(){return m.Cache}});var b=n(635);Object.defineProperty(e,"Timer",{enumerable:!0,get:function(){return b.Timer}});var g=n(440);Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return g.Loader}});var w=n(547);Object.defineProperty(e,"Ticker",{enumerable:!0,get:function(){return w.Ticker}});var _=n(853);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return _.Resource}});var x=n(135);Object.defineProperty(e,"Reactive",{enumerable:!0,get:function(){return x.Reactive}});var S=n(364);Object.defineProperty(e,"Schedule",{enumerable:!0,get:function(){return S.Schedule}});var O=n(298);Object.defineProperty(e,"Debounce",{enumerable:!0,get:function(){return O.Debounce}});var j=n(803);Object.defineProperty(e,"JobsQueue",{enumerable:!0,get:function(){return j.JobsQueue}});var k=n(358);Object.defineProperty(e,"StyleString",{enumerable:!0,get:function(){return k.StyleString}});var P=n(960);Object.defineProperty(e,"LocalStorage",{enumerable:!0,get:function(){return P.LocalStorage}});var T=n(982);Object.defineProperty(e,"QueryCollection",{enumerable:!0,get:function(){return T.QueryCollection}});var E=n(255);Object.defineProperty(e,"ElementListenerGroup",{enumerable:!0,get:function(){return E.ElementListenerGroup}});var M=n(69);Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return M.WebSocketClient}});var C=n(715);Object.defineProperty(e,"PromiseOverlap",{enumerable:!0,get:function(){return C.PromiseOverlap}});var A=n(485);Object.defineProperty(e,"CacheLite",{enumerable:!0,get:function(){return A.CacheLite}});var L=n(280);Object.defineProperty(e,"Breakpoint",{enumerable:!0,get:function(){return L.Breakpoint}});var D=n(792);Object.defineProperty(e,"Exception",{enumerable:!0,get:function(){return D.Exception}});var N=n(533);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return N.Interaction}});var I=n(910);Object.defineProperty(e,"Pool",{enumerable:!0,get:function(){return I.Pool}});var B=n(640);Object.defineProperty(e,"Once",{enumerable:!0,get:function(){return B.Once}});var G=n(557);Object.defineProperty(e,"Asset",{enumerable:!0,get:function(){return G.Asset}});var z=n(535);Object.defineProperty(e,"AsyncLocalStorage",{enumerable:!0,get:function(){return z.AsyncLocalStorage}});var K=n(924);Object.defineProperty(e,"PowerHelper",{enumerable:!0,get:function(){return K.PowerHelper}});var R=n(924);t.exports=R.PowerHelper,t.exports.PowerHelper=R.PowerHelper,e.default=R.PowerHelper},557:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Asset=void 0;var i=n(640),a=n(560),u=function(){function t(e){var n=this;this._images={},this._audios={},this._onecLoad=new i.Once({handler:function(){return r(n,void 0,void 0,(function(){var e,n,r,i,u,s,c;return o(this,(function(o){switch(o.label){case 0:for(r in e={},n={},this.params.images)i=this.params.images[r],u="string"==typeof i?t.loadImage(i):i(),e[r]=u;for(r in this.params.audios)i=this.params.audios[r],u="string"==typeof i?t.loadAudio(i):i(),n[r]=u;return s=this,[4,a.record.promiseAllWithKeys(e)];case 1:return s._images=o.sent(),c=this,[4,a.record.promiseAllWithKeys(n)];case 2:return c._audios=o.sent(),this.loaded=!0,[2]}}))}))}}),this.loaded=!1,this.params=e}return t.loadImage=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t}))]}))}))},t.loadAudio=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e,n){var r=new Audio;r.onloadedmetadata=function(){return e(r)},r.onerror=n,r.src=t}))]}))}))},t.prototype.load=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._onecLoad.run()];case 1:return t.sent(),[2]}}))}))},t.prototype.getImage=function(t){return this._images[t]},t.prototype.getAudio=function(t){return this._audios[t]},t.prototype.getImagePromise=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),[2,this._images[t]]}}))}))},t.prototype.getAudioPromise=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.load()];case 1:return e.sent(),[2,this._audios[t]]}}))}))},t}();e.Asset=u},535:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncLocalStorage=void 0;var i=function(){function t(t,e){this.interceptGet=null,this.interceptSet=null,this.options=e,this.storage=e.storageSystem,this.namespaces=t,e&&(e.storageSystem&&(this.storage=e.storageSystem),e.intercept&&(e.intercept.get&&(this.interceptGet=e.intercept.get.bind(this)),e.intercept.set&&(this.interceptSet=e.intercept.set.bind(this))))}return t.storageToAsyncStorage=function(t){var e=this;return{keys:function(){return n(e,void 0,void 0,(function(){return r(this,(function(e){return[2,Object.keys(t)]}))}))},getItem:function(o){return n(e,void 0,void 0,(function(){return r(this,(function(e){return[2,t.getItem(o)]}))}))},setItem:function(o,i){return n(e,void 0,void 0,(function(){return r(this,(function(e){return[2,t.setItem(o,i)]}))}))},removeItem:function(o){return n(e,void 0,void 0,(function(){return r(this,(function(e){return[2,t.removeItem(o)]}))}))}}},t.prototype.toKey=function(t){return"_power_a_".concat(this.namespaces,"/").concat(t.toString())},t.prototype.set=function(t,e){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n="function"!=typeof e?e:null,"function"!=typeof e?[3,3]:[4,this.get(t)];case 1:return o=r.sent(),[4,e(o)];case 2:n=r.sent(),r.label=3;case 3:return this.interceptSet?[4,this.interceptSet(t,n)]:[3,5];case 4:n=r.sent(),r.label=5;case 5:return[4,this.storage.setItem(this.toKey(t),JSON.stringify(n))];case 6:return r.sent(),[2]}}))}))},t.prototype.get=function(t){return n(this,void 0,void 0,(function(){var e,o,i,a,u,s=this;return r(this,(function(c){switch(c.label){case 0:return e=null,o=this.options,i=!1,a=function(){return n(s,void 0,void 0,(function(){return r(this,(function(t){return[2,null]}))}))},o&&o.defaultColumns&&o.defaultColumns[t]&&(a=o.defaultColumns[t]),[4,this.storage.getItem(this.toKey(t))];case 1:return null!=(u=c.sent())?[3,3]:[4,a()];case 2:u=c.sent(),i=!0,c.label=3;case 3:return e=i?u:null!=u?JSON.parse(u):null,this.interceptGet?[4,this.interceptGet(t,e,{storage:this,isDefault:i,defaultValue:a})]:[3,5];case 4:e=c.sent(),c.label=5;case 5:return[2,e]}}))}))},t.prototype.clear=function(){return n(this,void 0,void 0,(function(){var t,e,n,i,a,u,s,c;return r(this,(function(r){switch(r.label){case 0:return t="_power_a_".concat(this.namespaces,"/"),[4,this.storage.keys()];case 1:e=r.sent(),r.label=2;case 2:r.trys.push([2,7,8,9]),n=o(e),i=n.next(),r.label=3;case 3:return i.done?[3,6]:(a=i.value).length>=t.length&&a.slice(0,t.length)===t?[4,this.remove(a.slice(t.length))]:[3,5];case 4:r.sent(),r.label=5;case 5:return i=n.next(),[3,3];case 6:return[3,9];case 7:return u=r.sent(),s={error:u},[3,9];case 8:try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(s)throw s.error}return[7];case 9:return[2]}}))}))},t.prototype.remove=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.storage.removeItem(this.toKey(t))];case 1:return e.sent(),[2]}}))}))},t}();e.AsyncLocalStorage=i},280:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Breakpoint=void 0;var r=function(){function t(t){this.params=t}return Object.defineProperty(t,"bootstrapBreakpoints",{get:function(){return{xs:{min:-1/0,max:575},sm:{min:576,max:767},md:{min:768,max:991},lg:{min:992,max:1119},xl:{min:1200,max:1/0}}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"vuetifyBreakpoints",{get:function(){return{xs:{min:-1/0,max:599},sm:{min:600,max:959},md:{min:960,max:1263},lg:{min:1264,max:1903},xl:{min:1904,max:1/0}}},enumerable:!1,configurable:!0}),t.prototype.matchs=function(t){void 0===t&&(t=this.params.defCheckValue());var e=[];for(var n in this.params.points){var r=n,o=this.params.points[r],i=o.min,a=o.max;t>=i&&t<=a&&e.push("".concat(r,"-only")),t>=i&&e.push("".concat(r,"-and-up")),t<=a&&e.push("".concat(r,"-and-down"))}return e},t.prototype.is=function(t){var e,r;void 0===t&&(t=this.params.defCheckValue());var o=this.matchs(t);try{for(var i=n(["xl","lg","md","sm","xs"]),a=i.next();!a.done;a=i.next()){var u=a.value;if(o.includes("".concat(u,"-only")))return u}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return"xs"},t.prototype.in=function(t,e){return void 0===e&&(e=this.params.defCheckValue()),this.matchs(e).includes(t)},t}();e.Breakpoint=r},485:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.CacheLite=void 0;var i=function(){function t(t){this.lastUpdate=Date.now(),this.keyMap=new Map,this.params=t}return t.prototype.gc=function(){var t,e,o=Date.now();if(o>this.lastUpdate+this.params.ttl){try{for(var i=n(this.keyMap.entries()),a=i.next();!a.done;a=i.next()){var u=r(a.value,2),s=u[0];u[1].time+this.params.ttl<o&&this.keyMap.delete(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.lastUpdate=o}},Object.defineProperty(t.prototype,"size",{get:function(){return this.keyMap.size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.keyMap.clear()},t.prototype.get=function(t){var e;return this.gc(),null===(e=this.keyMap.get(t))||void 0===e?void 0:e.data},t.prototype.set=function(t,e){var n,r,o={key:t,value:e},i=(null===(n=this.params.intercept)||void 0===n?void 0:n.set)?null===(r=this.params.intercept)||void 0===r?void 0:r.set(o):o;if(this.gc(),this.keyMap.set(i.key,{data:i.value,time:Date.now()}),this.params.maxSize&&this.keyMap.size>this.params.maxSize){var a=Array.from(this.keyMap.keys())[0];null!=a&&this.keyMap.delete(a)}return i.value},t.prototype.has=function(t){return this.gc(),this.keyMap.has(t)},t.prototype.remove=function(t){this.gc(),this.keyMap.has(t)&&this.keyMap.delete(t)},t.prototype.keys=function(){return this.gc(),o([],r(this.keyMap.keys()),!1)},t.prototype.values=function(){return this.gc(),o([],r(this.keyMap.values()),!1).map((function(t){return t.data}))},t}();e.CacheLite=i},684:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;var s=n(257),c=function(){function t(t,e,n){this.createdAt=Date.now(),this.data=t,this.index=e,this.ttl=n}return t.prototype.isExpired=function(){return this.createdAt+this.ttl<Date.now()},t}(),l=function(t){function e(e){var n=t.call(this)||this;return n.event=new s.Event,n.index=0,n.items=new Map,n.key=e.key,n.pick=e.pick,n.maxSize=e.maxSize||1/0,n.ttl=null==e.ttl?1/0:e.ttl,n}return o(e,t),e.prototype.refresh=function(){var t,e;if(this.ttl!==1/0&&this.removeExpired(),this.maxSize!==1/0&&this.items.size>this.maxSize){var n=this.items.size-this.maxSize,r=a([],i(this.items.entries()),!1).sort((function(t,e){return t[1].index>e[1].index?1:-1})).slice(0,n);try{for(var o=u(r),s=o.next();!s.done;s=o.next()){var c=s.value;this.removeByKey(c[0])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}},e.prototype.keys=function(){return Array.from(this.items.keys())},e.prototype.size=function(){return this.items.size},e.prototype.clear=function(){var t,e,n=this.keys();try{for(var r=u(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.removeByKey(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.remove=function(t){var e=this.key(t);this.removeByKey(e)},e.prototype.removeExpired=function(){var t,e;try{for(var n=u(this.items),r=n.next();!r.done;r=n.next()){var o=i(r.value,2),a=o[0];o[1].isExpired()&&this.removeByKey(a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeByKey=function(t){var e=this.items.get(t);e&&(this.emit("remove",{data:e.data}),this.items.delete(t))},e.prototype.set=function(t,e){var n=this.key(t);this.setByKey(n,e)},e.prototype.setByKey=function(t,e){this.removeByKey(t),this.index+=1,this.items.set(t,new c(e,this.index,this.ttl)),this.refresh()},e.prototype.get=function(t){var e=this;return this.refresh(),new Promise((function(n,r){var o=e.key(t),i=e.items.get(o);if(i&&!1===i.isExpired())return n(i.data);var a="".concat(o,"-onload");e.event.on(a,(function(t,e){e.off(),n(t)})),1===e.event.getEventListenerSize(a)&&e.pick(t,{key:o}).then((function(t){e.event.emit(a,t),e.setByKey(o,t)})).catch(r)}))},e}(s.Event);e.Cache=l},298:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Debounce=void 0;var i=n(257),a=function(t){function e(e){var n=t.call(this)||this;return n.isDone=!1,n.values=[],n.params=e,n.duration=null==e.delay?-1:e.delay,n.totalDuration=null==e.totalDuration?-1:e.totalDuration,n.loop(),n}return o(e,t),e.prototype.loop=function(){var t=this;return this.isDone?null:0===this.duration||0===this.totalDuration||null!=this.params.maxValueLength&&this.params.maxValueLength<=this.values.length?this.trigger():(this.duration-=1,this.totalDuration-=1,void setTimeout((function(){return t.loop()}),1))},e.prototype.input=function(t){this.values.push(t),this.duration=null==this.params.delay?-1:this.params.delay},e.prototype.trigger=function(){!1===this.isDone&&(this.close(),this.emit("trigger",{values:this.values}))},e.prototype.close=function(){!1===this.isDone&&(this.isDone=!0,this.emit("close",{}))},e}(i.Event),u=function(t){function e(e){var n=t.call(this)||this;return n.unit=null,n.params=e,n}return o(e,t),e.prototype.input=function(t){var e=this;null==this.unit&&(this.unit=new a(this.params),this.unit.on("trigger",(function(t){var n=t.values;return e.emit("trigger",{values:n})})),this.unit.on("close",(function(){return e.close()}))),this.unit.input(t),this.emit("input",{value:t})},e.prototype.trigger=function(){this.unit?this.unit.trigger():this.emit("trigger",{values:[]})},e.prototype.close=function(){this.unit&&(this.unit.close(),this.unit=null)},e}(i.Event);e.Debounce=u},255:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ElementListenerGroup=void 0;var o=n(856),i=function(){function t(t){this.elements=[],this.listeners=new Map,t&&this.elements.push(t)}return t.prototype.observe=function(t){var e,n;this.elements.push(t);try{for(var o=r(this.listeners.values()),i=o.next();!i.done;i=o.next()){var a=i.value;t.addEventListener(a.name,a.callback,a.options)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.off=function(t){var e,n,o=this.listeners.get(t);if(o){this.listeners.delete(t);try{for(var i=r(this.elements),a=i.next();!a.done;a=i.next())a.value.removeEventListener(o.name,o.callback)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.add=function(t,e,n){var r=this,i=o.flow.createUuid(),a={name:t,options:n,callback:e};return this.listeners.set(i,a),this.elements.forEach((function(t){return t.addEventListener(a.name,a.callback,n)})),{id:i,off:function(){return r.off(i)}}},t.prototype.clear=function(){var t,e;try{for(var n=r(this.listeners.keys()),o=n.next();!o.done;o=n.next()){var i=o.value;this.off(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}();e.ElementListenerGroup=i},257:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var r=function(){function t(t,e,n){this.id=Date.now().toString()+Math.floor(1e6*Math.random()),this.state={},this.manager=t,this.event=e,this.callback=n}return t.prototype.invoke=function(t){var e=this;this.callback(t,{id:this.id,off:function(){return e.off()},state:this.state})},t.prototype.off=function(){this.manager.off(this.event,this.id)},t}(),o=function(){function t(){this.listeners=new Map}return t.prototype.getEventListenerSize=function(t){var e=this.listeners.get(t);return e?e.length:0},t.prototype.emit=function(t,e){var r,o,i,a,u=this.listeners.get(t);if(u)try{for(var s=n(u),c=s.next();!c.done;c=s.next())c.value.invoke(e)}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}var l=this.listeners.get("*");if(l)try{for(var f=n(l),p=f.next();!p.done;p=f.next())p.value.invoke({data:e,event:t})}catch(t){i={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}},t.prototype.off=function(t,e){var n=t,r=this.listeners.get(n);r&&this.listeners.set(n,r.filter((function(t){return t.id!==e})))},t.prototype.on=function(t,e){var n=t,o=new r(this,n,e);return!1===this.listeners.has(n)&&this.listeners.set(n,[]),this.listeners.get(n).push(o),o},t}();e.Event=o},792:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Exception=void 0;var u=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=null,r.options={defaultError:function(){return"Error!"},parseMessage:function(t){return t}},r.serviceName=e,n&&Object.assign(r.options,n),r}return o(e,t),Object.defineProperty(e,"basicMessageParser",{get:function(){return function(t){var e,n,r,o,i,a,u,s,c,l,f,p,h,y;if("string"==typeof t)return t;if("AxiosError"===t.name){if((null===(e=t.response)||void 0===e?void 0:e.data)&&"string"==typeof(null===(n=t.response)||void 0===n?void 0:n.data))return t.response.data;if((null===(o=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===o?void 0:o.message)&&"string"==typeof(null===(a=null===(i=t.response)||void 0===i?void 0:i.data)||void 0===a?void 0:a.message))return null===(s=null===(u=t.response)||void 0===u?void 0:u.data)||void 0===s?void 0:s.message;if((null===(l=null===(c=t.response)||void 0===c?void 0:c.data)||void 0===l?void 0:l.error)&&"string"==typeof(null===(p=null===(f=t.response)||void 0===f?void 0:f.data)||void 0===p?void 0:p.error))return null===(y=null===(h=t.response)||void 0===h?void 0:h.data)||void 0===y?void 0:y.error}var d=t.message;return d&&"string"==typeof d?d:null}},enumerable:!1,configurable:!0}),e.prototype._setParent=function(t){this.parent=t},e.prototype._getParents=function(){return null==this.parent?[]:a([this.parent],i(this.parent._getParents()),!1)},Object.defineProperty(e.prototype,"fullName",{get:function(){return null==this.parent?this.serviceName:"".concat(this.parent.fullName,"/").concat(this.serviceName)},enumerable:!1,configurable:!0}),e.prototype.parseMessage=function(t){return this.options.parseMessage(t)||this.options.defaultError()},e.prototype.create=function(t){var e=this.parseMessage(t),n={error:t,message:e};return this._getParents().concat([this]).forEach((function(t){return t.emit("fail",n)})),new Error("".concat(this.fullName,": ").concat(e))},e.prototype.checkout=function(t){var n=new e(t,this.options);return n._setParent(this),n},e}(n(257).Event);e.Exception=u},846:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Hook=void 0;var i=function(){function t(t,e,n){this.id=Date.now().toString()+Math.floor(1e6*Math.random()),this.state={},this.isAfter=!1,this.manager=t,this.channel=e,this.callback=n}return t.prototype.invoke=function(t){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){switch(n.label){case 0:return[4,this.callback(t,{id:this.id,off:function(){return e.off()},state:this.state})];case 1:return n.sent(),[2]}}))}))},t.prototype.off=function(){this.manager.detach(this.channel,this.id)},t}(),a=function(){function t(){this.listeners=new Map}return t.prototype.notify=function(t,e){return n(this,void 0,void 0,(function(){var n,i,a,u,s,c,l,f,p,h,y;return r(this,(function(r){switch(r.label){case 0:if(!(n=this.listeners.get(t)))return[3,15];r.label=1;case 1:r.trys.push([1,6,7,8]),i=o(n.filter((function(t){return!1===t.isAfter}))),a=i.next(),r.label=2;case 2:return a.done?[3,5]:[4,a.value.invoke(e)];case 3:r.sent(),r.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return u=r.sent(),f={error:u},[3,8];case 7:try{a&&!a.done&&(p=i.return)&&p.call(i)}finally{if(f)throw f.error}return[7];case 8:r.trys.push([8,13,14,15]),s=o(n.filter((function(t){return t.isAfter}))),c=s.next(),r.label=9;case 9:return c.done?[3,12]:[4,c.value.invoke(e)];case 10:r.sent(),r.label=11;case 11:return c=s.next(),[3,9];case 12:return[3,15];case 13:return l=r.sent(),h={error:l},[3,15];case 14:try{c&&!c.done&&(y=s.return)&&y.call(s)}finally{if(h)throw h.error}return[7];case 15:return[2]}}))}))},t.prototype.detach=function(t,e){var n=t,r=this.listeners.get(n);r&&this.listeners.set(n,r.filter((function(t){return t.id!==e})))},t.prototype.attach=function(t,e){var n=t,r=new i(this,n,e);return!1===this.listeners.has(n)&&this.listeners.set(n,[]),this.listeners.get(n).push(r),r},t.prototype.attachAfter=function(t,e){var n=this.attach(t,e);return n.isAfter=!0,n},t}();e.Hook=a},500:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.I18n=void 0;var u=n(257),s=n(70).text.replaceVar,c=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.nowLocale=e.def,n}return o(e,t),e.prototype.get=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=e;o="##"===o.slice(0,2)?o.slice(2).trim():this.params.locales[t][e]||e;var i=s({start:"{",end:"}",text:o,vars:n[0]||{}});return this.emit("get",{key:e,text:o,locale:t,output:i}),i},e.prototype.export=function(t){var e=this;return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.get.apply(e,a([t,n],i(r),!1))}},e.prototype.t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.get.apply(this,a([this.nowLocale,t],i(e),!1))},e.prototype.setLocale=function(t){this.nowLocale=t},e.prototype.getLocale=function(){return this.nowLocale},e.prototype.key=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return{get:function(r){return e.get.apply(e,a([r,t],i(n),!1))}}},e}(u.Event);e.I18n=c},533:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Interaction=void 0;var a=function(t){function e(e){var n=e.name,r=e.interceptorMessage,o=e.stepMaxSize,i=t.call(this)||this;return i.steps=[],i.stepMaxSize=100,i.name=n,i.interceptorMessage=r||function(t){return t},i.stepMaxSize=o||100,i}return o(e,t),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.parent?"".concat(this.parent.fullName,"/").concat(this.name):this.name},enumerable:!1,configurable:!0}),e.prototype.pushStep=function(t){if(this.parent)this.parent.pushStep(t);else{this.steps.length>=this.stepMaxSize&&this.steps.shift();var e=i(i({},t),{message:this.interceptorMessage(t.message),createdAt:Date.now()});this.steps.push(e),this.emit("action",e)}},e.prototype.getFlowText=function(t){return void 0===t&&(t=2),this.steps.slice(-1*t).map((function(t){return t.message})).join("->")},e.prototype.each=function(t){this.steps.forEach(t)},e.prototype.step=function(t,e){this.pushStep({meta:e,type:"step",level:"info",message:t,checkoutAt:this.fullName})},e.prototype.fail=function(t,e){var n=e||t;return this.pushStep({meta:n,type:"fail",level:"danger",message:t,checkoutAt:this.fullName}),n instanceof Error?n:new Error(n)},e.prototype.wrong=function(t){this.pushStep({meta:t,type:"wrong",level:"danger",message:t,checkoutAt:this.fullName})},e.prototype.checkout=function(t){var n=new e({name:t,interceptorMessage:this.interceptorMessage});return n.parent=this,{step:n.step.bind(n),fail:n.fail.bind(n),wrong:n.wrong.bind(n),notify:n.notify.bind(n),checkout:n.checkout.bind(n)}},e.prototype.notify=function(t,e){this.pushStep({meta:e,type:"notify",level:t,message:e,checkoutAt:this.fullName})},e}(n(257).Event);e.Interaction=a},803:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.JobsQueue=void 0;var u=function(t){function e(e){var n=t.call(this)||this;return n.jobs=[],n.closed=!1,n.isStop=!1,n.runningCount=0,n.params=e,!1===n.params.autoPlay&&(n.isStop=!0),n}return o(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this.jobs.length+this.runningCount},enumerable:!1,configurable:!0}),e.prototype.run=function(){var t=this;if(this.isStop)return null;if(this.closed)return null;if(this.params.concurrentExecutions&&this.runningCount>=this.params.concurrentExecutions)return null;var e=this.jobs.shift();e&&(this.runningCount+=1,e.handler().catch((function(n){t.emit("error",{name:(null==e?void 0:e.name)||"",error:n})})).finally((function(){t.less(),t.run()})))},e.prototype.less=function(){this.runningCount-=1,this.runningCount<=0&&(this.runningCount=0),0===this.size&&this.emit("allDone",{})},Object.defineProperty(e.prototype,"isStoped",{get:function(){return this.isStop},enumerable:!1,configurable:!0}),e.prototype.push=function(t,e){!1===this.closed&&(this.jobs.push({name:t,handler:e}),this.run())},e.prototype.stop=function(){this.isStop=!0},e.prototype.play=function(){this.isStop&&(this.isStop=!1,this.run())},e.prototype.pushAndWait=function(t,e){var n=this;return new Promise((function(r,o){if(n.closed)return r(null);n.jobs.push({name:t,handler:function(){return i(n,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return n.sent(),r(null),[3,3];case 2:return t=n.sent(),o(t),[3,3];case 3:return[2]}}))}))}}),n.run()}))},e.prototype.unshift=function(t,e){!1===this.closed&&(this.jobs.unshift({name:t,handler:e}),this.run())},e.prototype.clear=function(){this.jobs=[]},e.prototype.close=function(){this.clear(),this.closed=!0},e}(n(257).Event);e.JobsQueue=u},440:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var u=n(257),s=n(941),c=function(t){function e(e){void 0===e&&(e="no_name");var n=t.call(this)||this;return n.items=[],n.status={isDone:!1,isCalled:!1,isLoading:!1,complete:0,fail:null},n.name=e,n}return o(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"complete",{get:function(){return this.status.complete},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this.status.isDone},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fail",{get:function(){return this.status.fail},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"called",{get:function(){return this.status.isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this.status.isLoading},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.items=[],this.emit("clear",{})},e.prototype.push=function(t,e){this.items.find((function(e){return e.name===t}))&&(0,s.devError)("push","Loader ".concat(t," push name ").concat(t," already exists.")),this.items.push({name:t,handler:e})},e.prototype.reset=function(){if(!1===this.status.isDone)throw new Error("Loader ".concat(this.name,' call "reset" must called start.'));return Object.assign(this.status,{isDone:!1,isCalled:!1,isLoading:!1,complete:0,fail:null}),this},e.prototype.start=function(t){var e=this;return this.status.isCalled&&(0,s.devError)("start","Loader ".concat(this.name," Already Called.")),this.status.isCalled=!0,this.status.isLoading=!0,this.emit("call",{}),new Promise((function(n,r){var o=e.items.map((function(n){var r=n.name,o=n.handler;return function(){return i(e,void 0,void 0,(function(){var e,n;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,o(t)];case 1:return e=i.sent(),this.status.complete+=1,this.emit("complete",{name:r,result:e,loaderName:this.name}),[2,{name:r,result:e}];case 2:throw n=i.sent(),{isPowerHelperLoader:!0,loaderName:this.name,name:r,error:n};case 3:return[2]}}))}))}}));Promise.all(o.map((function(t){return t()}))).then((function(t){e.status.isDone=!0,e.status.isLoading=!1,e.emit("done",{}),n(t)})).catch((function(t){e.status.isDone=!0,e.status.isLoading=!1,e.status.fail=t,e.emit("fail",{error:t}),r(t)}))}))},e}(u.Event);e.Loader=c},960:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorage=void 0;var r=function(){function t(t,e){this.interceptGet=null,this.interceptSet=null,this.options=e,this.storage="undefined"==typeof window?null:window.localStorage,this.namespaces=t,e&&(e.storageSystem&&(this.storage=e.storageSystem),e.intercept&&(e.intercept.get&&(this.interceptGet=e.intercept.get.bind(this)),e.intercept.set&&(this.interceptSet=e.intercept.set.bind(this))))}return t.prototype.toKey=function(t){return"_power_".concat(this.namespaces,"/").concat(t.toString())},t.prototype.set=function(t,e){var n="function"==typeof e?e(this.get(t)):e;this.interceptSet&&(n=this.interceptSet(t,n)),this.storage.setItem(this.toKey(t),JSON.stringify(n))},t.prototype.get=function(t){var e=null,n=this.options,r=!1,o=function(){return null};n&&n.defaultColumns&&n.defaultColumns[t]&&(o=n.defaultColumns[t]);var i=this.storage.getItem(this.toKey(t));return null==i&&(i=o(),r=!0),e=r?i:null!=i?JSON.parse(i):null,this.interceptGet&&(e=this.interceptGet(t,e,{storage:this,isDefault:r,defaultValue:o})),e},t.prototype.clear=function(){var t,e,r="_power_".concat(this.namespaces,"/"),o=this.storage.keys?this.storage.keys():Object.keys(this.storage);try{for(var i=n(o),a=i.next();!a.done;a=i.next()){var u=a.value;u.length>=r.length&&u.slice(0,r.length)===r&&this.remove(u.slice(r.length))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.remove=function(t){this.storage.removeItem(this.toKey(t))},t}();e.LocalStorage=r},553:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Log=void 0;var i=n(257),a={default:"",red:"[31m",blue:"[34m",cyan:"[36m",black:"[30m",white:"[37m",green:"[32m",yellow:"[33m"},u=function(t){function e(e,n){var r=t.call(this)||this;return r.step=0,r.isSilence=!1,r.defaultLogType="normal",r.name=e,n&&(null!=n.silence&&r.silence(n.silence),null!=n.defaultLogType&&(r.defaultLogType=n.defaultLogType)),r}return o(e,t),e.prototype.getNow=function(){return(new Date).toISOString().split(/T|\./).slice(0,2).join(" ")},e.prototype.toPrintString=function(t,e,n){return"[".concat(t,"][").concat(this.name,"][").concat(e,"] ").concat(this.step,": ").concat(n)},e.prototype.silence=function(t){void 0===t&&(t=!0),this.isSilence=t},e.prototype.print=function(t,e){void 0===e&&(e={}),this.step+=1;var n=this.getNow(),r=e.color||"default",o=e.logType||this.defaultLogType,i=this.toPrintString(n,o,t),u={time:n,name:this.name,step:this.step,data:t,color:r,message:i,logType:o,silence:this.isSilence};return this.emit("print",u),!1===this.isSilence&&("default"===r?console.log(i):"undefined"==typeof window?console.log("".concat(a[r]).concat(i,"[0m")):console.log("%c ".concat(i),"color: ".concat(r))),u},e}(i.Event);e.Log=u},640:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Once=void 0;var i=n(257),a=function(){function t(t){this.isDone=!1,this.isError=!1,this.event=new i.Event,this.response=null,this.params=t}return t.prototype.run=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return[2,new Promise((function(e,n){var r=function(){t.isError?n(t.response):e(t.response)};t.isDone?r():(t.event.on("onload",(function(t,e){e.off(),r()})),1===t.event.getEventListenerSize("onload")&&t.params.handler().then((function(e){t.response=e})).catch((function(e){t.response=e,t.isError=!0})).finally((function(){t.isDone=!0,t.event.emit("onload",{})})))}))]}))}))},t.prototype.reset=function(){this.isDone=!1,this.isError=!1,this.response=null},t}();e.Once=a},910:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Pool=void 0;var i=n(684),a=n(982),u=function(){function t(t){var e=t.find,n=t.fetch,u=t.cache,s=t.collection,c=this;this.dataCollection=new a.QueryCollection({waitTime:(null==s?void 0:s.waitTime)||100,query:function(t){return r(c,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,n(t)];case 1:return[2,e.sent()]}}))}))}}),this.dataCache=new i.Cache({ttl:(null==u?void 0:u.ttl)||3e5,maxSize:(null==u?void 0:u.maxSize)||100,key:function(t){return JSON.stringify(t)},pick:function(t){return r(c,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.dataCollection.push(t)];case 1:return[2,n.sent().find((function(n,r){return e(n,t,r)}))]}}))}))}})}return t.prototype.pick=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.dataCache.get(t)]}))}))},t.prototype.list=function(t){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(n){switch(n.label){case 0:return[4,Promise.all(t.map((function(t){return e.dataCache.get(t)})))];case 1:return[2,n.sent()]}}))}))},t.prototype.remove=function(t){this.dataCache.remove(t)},t.prototype.set=function(t,e){this.dataCache.set(t,e)},t.prototype.clear=function(){this.dataCache.clear()},t}();e.Pool=u},715:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseOverlap=void 0;var r=function(){function t(t,e){void 0===e&&(e={}),this.processes=[],this.pick=t,this.options=e}return t.prototype.run=function(t){var e=this,r={data:null,closed:!1,reject:null,resolve:null,isError:!1},o=function(t,o){var i,a;if(r.data=t,r.closed=!0,r.isError=o,0===e.processes.filter((function(t){return!t.closed})).length){var u;u="first"===e.pick?e.processes[0]:e.processes[e.processes.length-1];try{for(var s=n(e.processes),c=s.next();!c.done;c=s.next()){var l=c.value;u.isError?l.reject(u.data):l.resolve(u.data)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}e.processes=[]}};return this.processes.push(r),new Promise((function(n,i){r.reject=i,r.resolve=n,setTimeout((function(){t().then((function(t){return o(t,!1)})).catch((function(t){return o(t,!0)}))}),e.options.delay||10)}))},t}();e.PromiseOverlap=r},982:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryCollection=void 0;var o=function(){function t(t){this.timeout=null,this.collection=[],this.params=t}return t.prototype.push=function(t){var e=this;return new Promise((function(o,i){e.collection.push({data:t,resolve:o,reject:i}),null==e.timeout&&(e.timeout=setTimeout((function(){return n(e,void 0,void 0,(function(){var t,e,n;return r(this,(function(r){switch(r.label){case 0:t=this.collection.slice(),this.timeout=null,this.collection=[],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.params.query(t.map((function(t){return t.data})))];case 2:return e=r.sent(),t.forEach((function(t){return t.resolve(e)})),[3,4];case 3:return n=r.sent(),t.forEach((function(t){return t.reject(n)})),[3,4];case 4:return[2]}}))}))}),e.params.waitTime))}))},t}();e.QueryCollection=o},135:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Reactive=void 0;var c=n(257),l=n(364),f=function(t){function e(e){var n=t.call(this)||this;return n.oldKey=null,n.schedule=new l.Schedule,n.installed=!1,n.nextTicks=[],n.params=e,n}return o(e,t),e.prototype.isActive=function(){return this.installed},e.prototype.close=function(){this.schedule.close()},e.prototype.nextTick=function(t){this.nextTicks.push(t)},e.prototype.from=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.oldKey=null,this.state=t,this.installed=!0,e=null!=this.params.schedule?this.params.schedule:100,[4,this.dispatch()];case 1:return r.sent(),!1===this.schedule.has("reactive")&&this.schedule.add("reactive",e,(function(){return a(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.dispatch()];case 1:return t.sent(),[2]}}))}))})),[2,this]}}))}))},e.prototype.dispatch=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,o;return u(this,(function(i){switch(i.label){case 0:return[4,this.params.observable(this.state)];case 1:return(t=i.sent())===this.oldKey?[3,3]:[4,this.trigger(t)];case 2:i.sent(),i.label=3;case 3:if(this.nextTicks.length>=1){try{for(e=s(this.nextTicks),n=e.next();!n.done;n=e.next())(0,n.value)(this.state)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(r)throw r.error}}this.nextTicks=[]}return[2]}}))}))},e.prototype.trigger=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return e={state:this.state,newKey:t,oldKey:this.oldKey},this.emit("actionBefore",e),[4,this.params.action(i(i({},e),{close:function(){return n.close()}}))];case 1:return r.sent(),this.emit("actionAfter",e),this.oldKey=t,[2]}}))}))},e}(c.Event);e.Reactive=f},853:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var a=n(257),u=n(70),s=n(358),c=function(t){function e(e){var n=t.call(this)||this;return n.objectUrls=[],n.params=e,n}return o(e,t),e.prototype.createObjectUrl=function(t){var e=URL.createObjectURL(t);return this.objectUrls.push(e),e},e.prototype.get=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return this.url((null===(n=null===(e=this.params.items)||void 0===e?void 0:e[t])||void 0===n?void 0:n.call(e,r[0]))||"")},e.prototype.url=function(t){var e,n,r="",o=!1;if("string"==typeof t){var a=t.trim();try{for(var s=i(["http","file","data:","//"]),c=s.next();!c.done;c=s.next()){var l=c.value;if(u.text.headMatch(a,l)){r=a;break}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}else("undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof MediaSource&&t instanceof MediaSource)&&(r=this.createObjectUrl(t),o=!0);return""===r.trim()&&(r="string"==typeof t?this.params.def(t):""),this.emit("fetch",{url:r,source:t,isObjectUrl:o}),r},e.prototype.release=function(){this.objectUrls.forEach((function(t){return URL.revokeObjectURL(t)})),this.objectUrls=[]},e.prototype.backgroundStyle=function(t,e){void 0===e&&(e="basic");var n=new s.StyleString;return n.set("backgroundImage","url(".concat(this.url(t),")")),"cover"===e&&(n.set("backgroundSize","cover"),n.set("backgroundRepeat","no-repeat"),n.set("backgroundPosition","center")),n.join()},e}(a.Event);e.Resource=c},364:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Schedule=void 0;var s=n(257),c=n(941),l=function(t){function e(){var e=t.apply(this,a([],i(arguments),!1))||this;return e.int=setInterval((function(){return e.run()}),100),e.isStop=!1,e.lastTime=Date.now(),e.processes=[],e}return o(e,t),e.prototype.run=function(){var t,e,n=this;if(this.isStop)return null;var r=Date.now(),o=r-this.lastTime;this.lastTime=r;var i=function(t){if(t.runningTime)return"continue";t.now+=o,t.now>=t.sec&&(t.now=0,t.runningTime=Date.now(),t.executedCount+=1,t.handler().then((function(){t.runningTime=null})).catch((function(e){t.runningTime=null,n.emit("processFail",{processName:t.name,error:e})})))};try{for(var a=u(this.processes),s=a.next();!s.done;s=a.next())i(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}},e.prototype.add=function(t,e,n){this.processes.find((function(e){return e.name===t}))&&(0,c.devError)("add","Name ".concat(t," already exists.")),this.processes.push({sec:e,now:0,name:t,executedCount:0,runningTime:null,handler:n})},e.prototype.has=function(t){return!!this.processes.find((function(e){return e.name===t}))},e.prototype.remove=function(t){null==this.processes.find((function(e){return e.name===t}))&&(0,c.devError)("add","Name ".concat(t," not found.")),this.processes=this.processes.filter((function(e){return e.name!==t}))},e.prototype.info=function(){return this.processes.map((function(t){return{name:t.name,runningTime:t.runningTime,executedCount:t.executedCount}}))},e.prototype.stop=function(){this.isStop=!0},e.prototype.play=function(){this.isStop=!1},e.prototype.close=function(){clearInterval(this.int)},e}(s.Event);e.Schedule=l},358:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.StyleString=void 0;var o=function(){function t(){this.styles={}}return t.prototype.set=function(t,e,n){var r=null==e?n:e;r&&(this.styles[t]=r)},t.prototype.get=function(t){return this.styles[t]},t.prototype.remove=function(t){this.styles[t]&&delete this.styles[t]},t.prototype.assign=function(t){var e,o;try{for(var i=n(Object.entries(this.styles)),a=i.next();!a.done;a=i.next()){var u=r(a.value,2),s=u[0],c=u[1];t.style[s]=c}}catch(t){e={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}},t.prototype.join=function(t){var e,o;void 0===t&&(t=";");var i,a=[];try{for(var u=n(Object.entries(this.styles)),s=u.next();!s.done;s=u.next()){var c=r(s.value,2),l=c[0],f=c[1];a.push("".concat((i=l,i.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))),":").concat(f))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}return a.join(t)},t}();e.StyleString=o},547:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ticker=void 0;var i=function(t){function e(e,n){var r=t.call(this)||this;return r.isStop=!1,r.delta=0,r.previousTime=Date.now(),r.int=setInterval((function(){return r.run()}),e),n&&!1===n.autoPlay&&r.stop(),r}return o(e,t),e.prototype.run=function(){if(!1===this.isStop){var t=Date.now();this.delta+=1,this.emit("next",{delta:this.delta,timeGap:t-this.previousTime}),this.previousTime=t}},e.prototype.stop=function(){this.isStop=!0},e.prototype.play=function(){this.isStop=!1,this.previousTime=Date.now()},e.prototype.close=function(){clearInterval(this.int)},e}(n(257).Event);e.Ticker=i},635:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var i=function(t){function e(){var e=t.call(this,1,{autoPlay:!1})||this;return e.nowTime=0,e.minTime=0,e.maxTime=999999999999,e.positive=!0,e.on("next",(function(t){var n=t.timeGap;e.positive?e.nowTime+=n:e.nowTime-=n,e.nowTime<=e.minTime&&(e.nowTime=e.minTime),e.nowTime>=e.maxTime&&(e.nowTime=e.maxTime)})),e}return o(e,t),e.prototype.setPositive=function(t){return this.positive=t,this},e.prototype.setMinTime=function(t){this.minTime=t},e.prototype.setMaxTime=function(t){this.maxTime=t},e.prototype.getTime=function(){return this.nowTime},e.prototype.setTime=function(t){return this.nowTime=t,this},e.prototype.addTime=function(t){return this.nowTime+=t,this},e.prototype.subtractTime=function(t){return this.nowTime-=t,this},e.prototype.getHours=function(){return this.nowTime/1e3/60/60},e.prototype.getMinutes=function(){return this.nowTime/1e3/60%60},e.prototype.getSeconds=function(){return this.nowTime/1e3%60},e.prototype.getMicroseconds=function(){return this.nowTime%1e3},e.prototype.getTimeString=function(t){void 0===t&&(t="hh:mm:ss.ff");var e=Math.floor(this.getHours()).toString().padStart(2,"0"),n=Math.floor(this.getMinutes()).toString().padStart(2,"0"),r=Math.floor(this.getSeconds()).toString().padStart(2,"0"),o=Math.floor(this.getMicroseconds()/10).toString().padStart(2,"0");return t.replace("hh",e).replace("mm",n).replace("ss",r).replace("ff",o)},e}(n(547).Ticker);e.Timer=i},69:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClient=void 0;var u=function(t){function e(e){var n=t.call(this)||this;return n.isManuallyClosed=!1,n.params=e,n}return o(e,t),e.prototype.fail=function(t,e){this.emit("$error",{from:t,error:e})},Object.defineProperty(e.prototype,"connected",{get:function(){return!!this._websocket},enumerable:!1,configurable:!0}),e.prototype.createWebsocket=function(t){var e=this;this.connected&&console.warn("Websocket ".concat(t," already connected."));var n=!1,r=this.params.system?this.params.system:WebSocket;return new Promise((function(o,u){e._websocket=new r(t,e.params.protocol),e._websocket.onopen=function(){n=!0,e.emit("$open",{}),o(null)},e._websocket.onerror=function(t){!1===n?u(t):e.fail("unknown",t)},e._websocket.onmessage=function(t){return i(e,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.params.onMessage(t)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),this.fail("message",e),[3,3];case 3:return[2]}}))}))},e._websocket.onclose=function(){var t={isManuallyClosed:e.isManuallyClosed};e._websocket=void 0,e.emit("$close",t),e.isManuallyClosed=!1}}))},e.prototype.getStatus=function(){var t,e,n,r;return!1===this.connected?"wait":0===(null===(t=this._websocket)||void 0===t?void 0:t.readyState)?"connecting":1===(null===(e=this._websocket)||void 0===e?void 0:e.readyState)?"open":2===(null===(n=this._websocket)||void 0===n?void 0:n.readyState)?"closeing":3===(null===(r=this._websocket)||void 0===r?void 0:r.readyState)?"closed":void 0},e.prototype.send=function(t,e){var n;return i(this,void 0,void 0,(function(){var r,o;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.params.sendHandler(t,e)];case 1:return r=i.sent(),this.connected?null===(n=this._websocket)||void 0===n||n.send(r):console.warn("Socket not connected, from send ".concat(t,".")),[3,3];case 2:return o=i.sent(),this.fail("send",o),[3,3];case 3:return[2]}}))}))},e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.params.url()];case 1:return t=e.sent(),[4,this.createWebsocket(t)];case 2:return[2,e.sent()]}}))}))},e.prototype.disconnect=function(){var t;this.connected?(this.isManuallyClosed=!0,null===(t=this._websocket)||void 0===t||t.close()):console.warn("Socket not connected, from disconnect.")},e}(n(257).Event);e.WebSocketClient=u},924:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PowerHelper=void 0;var r=n(856),o=n(86),i=n(38),a=n(70),u=n(966),s=n(81),c=n(560),l=n(888),f=n(692),p=n(991),h=n(553),y=n(500),d=n(846),v=n(640),m=n(557),b=n(257),g=n(684),w=n(635),_=n(440),x=n(547),S=n(853),O=n(135),j=n(364),k=n(298),P=n(803),T=n(358),E=n(960),M=n(982),C=n(255),A=n(69),L=n(715),D=n(485),N=n(280),I=n(792),B=n(533),G=n(910),z=n(535);e.PowerHelper={flow:r.flow,json:o.json,text:a.text,pick:i.pick,calc:f.calc,array:u.array,record:c.record,detect:s.detect,checker:p.checker,element:l.element,Log:h.Log,I18n:y.I18n,Hook:d.Hook,Pool:G.Pool,Once:v.Once,Asset:m.Asset,Event:b.Event,Cache:g.Cache,Timer:w.Timer,Ticker:x.Ticker,Loader:_.Loader,Schedule:j.Schedule,Debounce:k.Debounce,Reactive:O.Reactive,Resource:S.Resource,Exception:I.Exception,CacheLite:D.CacheLite,JobsQueue:P.JobsQueue,Breakpoint:N.Breakpoint,StyleString:T.StyleString,Interaction:B.Interaction,LocalStorage:E.LocalStorage,PromiseOverlap:L.PromiseOverlap,QueryCollection:M.QueryCollection,WebSocketClient:A.WebSocketClient,AsyncLocalStorage:z.AsyncLocalStorage,ElementListenerGroup:C.ElementListenerGroup}},966:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.array=void 0,e.array={groups:function(t,e){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},randomPick:function(t){return t[Math.floor(Math.random()*t.length)]},randomPicks:function(t,n){if(n.length<=t)return n.slice();for(var r=[],o=100*n.length;o>0;){o-=1;var i=e.array.randomPick(n);if(!1===r.includes(i)&&r.push(i),r.length>=t)break}return r},unique:function(t){return i([],o(new Set(t)),!1)},asyncMap:function(t,e){return n(void 0,void 0,void 0,(function(){var n,o,i,u,s,c,l,f;return r(this,(function(r){switch(r.label){case 0:n=[],r.label=1;case 1:r.trys.push([1,6,7,8]),o=a(t),i=o.next(),r.label=2;case 2:return i.done?[3,5]:(u=i.value,[4,e(u)]);case 3:s=r.sent(),n.push(s),r.label=4;case 4:return i=o.next(),[3,2];case 5:return[3,8];case 6:return c=r.sent(),l={error:c},[3,8];case 7:try{i&&!i.done&&(f=o.return)&&f.call(o)}finally{if(l)throw l.error}return[7];case 8:return[2,n]}}))}))},check:function(t,e){return t.includes(e)?t.filter((function(t){return t!==e})):i(i([],o(t),!1),[e],!1)}}},692:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calc=void 0,e.calc={toMs:function(t,e){var n=0;return"s"===t&&(n=1e3*e),"m"===t&&(n=6e4*e),"h"===t&&(n=36e5*e),"d"===t&&(n=864e5*e),"y"===t&&(n=315576e5*e),Math.floor(n)}}},991:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checker=void 0,e.checker={inputAccept:function(t,e,n){if("*/*"===t)return!0;var r=[];if(t.split(",").forEach((function(t){".jpg"!==t&&".jpeg"!==t||(r.push(/image\/(jpeg)/i),r.push(/image\/(jpg)/i)),".mp3"===t&&(r.push(/audio\/(mpeg)/i),r.push(/audio\/(mp3)/i)),-1!==t.indexOf("/*")&&r.push(new RegExp(t.replace("*",".+"),"i")),t.startsWith(".")&&r.push(new RegExp("\\".concat(t,"$"),"i")),r.push(new RegExp(t.replace("/","\\/"),"i"))})),n){if(!r.some((function(t){return t.test(e)||t.test(n)})))return!1}else if(!r.some((function(t){return t.test(e)})))return!1;return!0}}},81:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.detect=void 0;var r=function(){return"undefined"==typeof window?null:window.navigator};e.detect={inAppBrowser:function(){var t,e,o=r();if(null==o)return!1;var i=o.userAgent.toLowerCase();try{for(var a=n(["line/","instagram","fbios","fb_iab","fban","fbav","micromessenger"]),u=a.next();!u.done;u=a.next()){var s=u.value;if(i.includes(s))return!0}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return!1},inMobile:function(){return e.detect.inIOS()||e.detect.inAndroid()},inIOS:function(){var t=r();return null!=t&&/iPad|iPhone|iPod/.test(t.userAgent)},inAndroid:function(){var t=r();return null!=t&&t.userAgent.toLowerCase().indexOf("android")>-1},inSafari:function(){var t=r();if(null==t)return!1;var e=t.userAgent,n=!!e.match(/iP(ad|od|hone)/i),o=!!e.match(/Safari/i),i=!e.match(/Chrome|CriOS|OPiOS|mercury|FxiOS|Firefox/i);return n?!!e.match(/WebKit/i)&&o&&i:"undefined"!=typeof window&&void 0!==window.safari||o&&i}}},888:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.element=void 0,e.element={importScript:function(t,e){return new Promise((function(r,o){var i,a,u=window.document,s=u.createElement("script"),c=Array.from(window.document.getElementsByTagName("script"));try{for(var l=n(c),f=l.next();!f.done;f=l.next())if(f.value.src===t)return r(null)}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}s.src=t,(null==e?void 0:e.appendBefore)&&e.appendBefore(s),s.onload=r,s.onerror=o,u.body.appendChild(s)}))},createAndAppend:function(t,e,n){var r=window.document.createElement(t);return e(r),n?n.appendChild(r):window.document.body.appendChild(r),r},importCss:function(t,e){return new Promise((function(r,o){var i,a,u=window.document,s=u.createElement("link"),c=Array.from(window.document.getElementsByTagName("link"));try{for(var l=n(c),f=l.next();!f.done;f=l.next())if(f.value.href===t)return r(null)}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}s.rel="stylesheet",s.href=t,(null==e?void 0:e.appendBefore)&&e.appendBefore(s),s.onload=r,s.onerror=o,u.body.appendChild(s)}))}}},856:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.flow=void 0,e.flow={run:function(t){return t()},sleep:function(t){return new Promise((function(e){setTimeout((function(){return e(null)}),t)}))},randomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},createUuid:function(){if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();var t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},createWithTsUuid:function(){return"".concat(Date.now(),"-").concat(e.flow.createUuid())},retry:function(t){return n(void 0,void 0,void 0,(function(){var n,o,i,a;return r(this,(function(r){switch(r.label){case 0:n=0,o=null==t.max?1:t.max,i=[],r.label=1;case 1:if(!(o>0))return[3,8];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.action(n)];case 3:return[2,r.sent()];case 4:return a=r.sent(),t.onFail&&t.onFail(n,a),i.push({count:n,error:a}),[3,5];case 5:return n+=1,o-=1,t.interval?[4,e.flow.sleep(t.interval)]:[3,7];case 6:r.sent(),r.label=7;case 7:return[3,1];case 8:throw i}}))}))},asyncWhile:function(t){return n(void 0,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:e=!1,n={count:0,doBreak:function(){e=!0}},r.label=1;case 1:return[4,t(n)];case 2:return r.sent(),e?[3,3]:(n.count+=1,[3,1]);case 3:return[2]}}))}))}}},86:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.json=void 0,e.json={jpjs:function(t){return JSON.parse(JSON.stringify(t))},nonStrictJSONParse:function(t){try{return"string"==typeof t?JSON.parse(t):t}catch(t){return{}}},nonStrictJSONStringify:function(t){try{return JSON.stringify(t)}catch(t){return"{}"}}}},38:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pick=void 0,e.pick={ifBad:function(t,n){var r=e.pick.getType(t);return["empty","NaN","error"].includes(r)?n:t},ifEmpty:function(t,e){return null!=t?t:e},getType:function(t){var e=typeof t;return null==t?"empty":Array.isArray(t)?"array":"number"===e&&isNaN(t)?"NaN":t instanceof RegExp?"regexp":t instanceof Promise?"promise":"undefined"!=typeof Buffer&&Buffer.isBuffer(t)?"buffer":t instanceof Error?"error":e},peel:function(t,n){for(var r=n.split(/[.[\]'"]/g).filter((function(t){return""!==t.trim()})),o=t;;){if(0===r.length)return o;if("object"!==e.pick.getType(o))return null;var i=r.shift();i&&(o=o[i])}},vars:function(t){for(var e=t.start,n=t.end,r=t.text,o=!1,i=[],a="",u=e[0],s=n[0],c=0;c<r.length;c++){var l=r[c];if(o){if(l===s&&r.slice(c,c+n.length)===n){c+=n.length-1,i.push(a),a="",o=!1;continue}a+=l}else if(l===u&&(o=r.slice(c,c+e.length)===e)){c+=e.length-1;continue}}return i}}},560:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.record=void 0;var i=n(86),a=n(38);e.record={setMapValue:function(t,e,n){var r=function(t,e,o){void 0===o&&(o="");var u={},s=null==t?{}:i.json.jpjs(t),c=null==e?{}:i.json.jpjs(e);for(var l in s)"object"!==a.pick.getType(s[l])||!1!==(!!n&&!!n.directReplacePeels&&n.directReplacePeels.includes("".concat(o).concat(l)))?void 0===c[l]?u[l]=s[l]:u[l]=c[l]:u[l]=r(s[l],c[l],"".concat(o).concat(l,"."));return u};return r(t,e)},createStrictObject:function(t){var e={},n=function(t,e){return new Error("Strict Object Fail - ".concat(t,": ").concat(e,"!"))};for(var o in t){var i=r(t[o],4),u=i[0],s=i[1],c=i[2],l=i[3],f=a.pick.getType(c),p=c;if("empty"===f){if(s)throw n(o,"is required")}else{if(u===String){if("string"!==f)throw n(o,"not a string");if(s&&""===p.trim())throw n(o,"no content")}if(u===Number){if("number"!==f&&"string"!==f)throw n(o,"not a number");if("string"===f&&(p=Number(p.trim())),isNaN(p))throw n(o,"is NaN")}if(u===Boolean){if("string"===f){if("true"!==(p=p.trim())&&"false"!==p)throw n(o,"not a boolean");p="true"===p}if(!0!==p&&!1!==p)throw n(o,"output value not a true or false")}}e[o]="empty"===f?l:p}return Object.freeze(e)},omit:function(t,e){var n={};for(var r in t)!1===e.includes(r)&&(n[r]=t[r]);return n},promiseAllWithKeys:function(t){var e=Object.keys(t),n=Object.values(t);return Promise.all(n).then((function(t){return t.reduce((function(t,n,r){return t[e[r]]=n,t}),{})}))},simpleCheckDeepDiff:function(t,n){var r,i,u=a.pick.getType(t);if(u!==a.pick.getType(n))return!0;if("object"===u){var s=Object.keys(t),c=Object.keys(n);if(s.length!==c.length)return!0;try{for(var l=o(s),f=l.next();!f.done;f=l.next()){var p=f.value;if(e.record.simpleCheckDeepDiff(t[p],n[p]))return!0}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}if("array"===u){if(t.length!==n.length)return!0;for(var h=0;h<t.length;h++)if(e.record.simpleCheckDeepDiff(t[h],n[h]))return!0;return!1}return t!==n}}},70:function(t,e){var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.text=void 0,e.text={headMatch:function(t,e){return t.slice(0,e.length)===e},lastMatch:function(t,e){return t.slice(-1*e.length)===e},byteLength:function(t){for(var e=t.length,n=t.length-1;n>=0;n--){var r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e},replaceVar:function(t){for(var e,n=t.start,r=t.end,o=t.text,i=t.vars,a=t.dafaultVar,u=!1,s="",c="",l=n[0],f=r[0],p=0;p<o.length;p++){var h=o[p];if(u){if(h===f&&o.slice(p,p+r.length)===r){p+=r.length-1;var y=i?null===(e=i[c.trim()])||void 0===e?void 0:e.toString():null;y?s+=y:a&&(s+=a),c="",u=!1;continue}c+=h}else{if(h===l&&(u=o.slice(p,p+n.length)===n)){p+=n.length-1;continue}s+=o[p]}}return u?s+n+c:s},format:function(t,e,n){void 0===n&&(n="-");for(var r=0,o="",i=0;i<t.length;i++)"v"===t[i]?(o+=null==e[r]?n:e[r],r+=1):o+=t[i];return o},findMatchOrLast:function(t,e){var r,o;try{for(var i=n(e),a=i.next();!a.done;a=i.next()){var u=a.value;if(t===u)return u}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return e[e.length-1]||null}}}},e={};return function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(620)})()));