{
  "version": 3,
  "sources": ["../lib/utils/text.ts", "../lib/utils/json.ts", "../lib/utils/flow.ts", "../lib/utils/pick.ts", "../lib/utils/calc.ts", "../lib/utils/array.ts", "../lib/utils/record.ts", "../lib/utils/detect.ts", "../lib/utils/checker.ts", "../lib/utils/element.ts", "../lib/modules/event.ts", "../lib/modules/log.ts", "../lib/modules/i18n.ts", "../lib/modules/hook.ts", "../lib/modules/cache.ts", "../lib/modules/ticker.ts", "../lib/modules/timer.ts", "../lib/base.ts", "../lib/modules/loader.ts", "../lib/modules/style-string.ts", "../lib/modules/resource.ts", "../lib/modules/schedule.ts", "../lib/modules/reactive.ts", "../lib/modules/debounce.ts", "../lib/modules/jobs-queue.ts", "../lib/modules/local-storage.ts", "../lib/modules/query-collection.ts", "../lib/modules/element-listener-group.ts", "../lib/modules/websocket.ts", "../lib/modules/promise-overlap.ts", "../lib/modules/cache-lite.ts", "../lib/modules/breakpoint.ts", "../lib/modules/exception.ts", "../lib/modules/interaction.ts", "../lib/modules/pool.ts", "../lib/modules/once.ts", "../lib/modules/asset.ts", "../lib/modules/async-local-storage.ts", "../lib/modules/preload-port.ts", "../lib/powerhelper.ts"],
  "sourcesContent": ["import { Whitespace, VarParameters } from '../types/string'\n\n/**\n * \u5B57\u4E32\u76F8\u95DC\u7684\u8655\u7406\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md\n */\n\nexport const text = {\n    /**\n     * Text \u958B\u982D\u662F\u5426\u7B26\u5408\u76EE\u6A19\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#headmatch\n     */\n\n    headMatch: (text: string, match: string) => {\n        return text.slice(0, match.length) === match\n    },\n\n    /**\n     * Text \u7D50\u5C3E\u662F\u5426\u7B26\u5408\u76EE\u6A19\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#lastmatch\n     */\n\n    lastMatch: (text: string, match: string) => {\n        return text.slice(match.length * -1) === match\n    },\n\n    /**\n     * \u7372\u53D6\u6307\u5B9A Text \u7684 Byte \u9577\u5EA6\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#bytelength\n     */\n\n    byteLength: (text: string) => {\n        let size = text.length\n        for (let i = text.length - 1; i >= 0; i--) {\n            let code = text.charCodeAt(i)\n            if (code > 0x7f && code <= 0x7ff) {\n                size++\n            } else if (code > 0x7ff && code <= 0xffff) {\n                size += 2\n            }\n            if (code >= 0xDC00 && code <= 0xDFFF) {\n                i--\n            }\n        }\n        return size\n    },\n\n    /**\n     * \u8907\u5BEB Text \u7684\u6307\u5B9A\u8B8A\u6578\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#replacevar\n     */\n\n    replaceVar: <\n        S extends string,\n        E extends string,\n        T extends string\n    >({ start, end, text, vars, defaultVar }: {\n        /** \u8B8A\u6578\u8D77\u59CB\u7B26\u865F */\n        start: S extends '' ? never : S extends Whitespace ? never : S\n        /** \u8B8A\u6578\u7D42\u6B62\u7B26\u865F */\n        end: E extends '' ? never : E extends Whitespace ? never : E\n        /** \u8907\u5BEB\u6587\u672C */\n        text: T\n        /** \u8907\u5BEB\u8B8A\u6578 */\n        vars: Partial<VarParameters<S, E, T>>\n        /** \u5982\u679C\u627E\u4E0D\u5230\u5C0D\u61C9\u8CC7\u6599\u7684\u9810\u8A2D\u503C */\n        defaultVar?: string\n    }) => {\n        let isStart = false\n        let output = ''\n        let varKey = ''\n        let startFirstUnit = start[0]\n        let endFirstUnit = end[0]\n        for (let i = 0; i < text.length; i++) {\n            let unit = text[i]\n            if (isStart) {\n                if (unit === endFirstUnit) {\n                    let isEnd = text.slice(i, i + end.length) === end\n                    if (isEnd) {\n                        i += end.length - 1\n\n                        // @ts-ignore\n                        let data = vars ? vars[varKey.trim()]?.toString() : null\n                        if (data) {\n                            output += data\n                        } else if (defaultVar) {\n                            output += defaultVar\n                        }\n                        varKey = ''\n                        isStart = false\n                        continue\n                    }\n                }\n                varKey += unit\n            } else {\n                // \u9032\u5165\u5339\u914D\n                if (unit === startFirstUnit) {\n                    isStart = text.slice(i, i + start.length) === start\n                    if (isStart) {\n                        i += start.length - 1\n                        continue\n                    }\n                }\n                output += text[i]\n            }\n        }\n        return isStart ? output + start + varKey : output\n    },\n\n    /**\n     * \u8F49\u63DB Text \u8F49\u63DB\u6210\u6307\u5B9A\u683C\u5F0F\uFF0C\u586B\u5165 v \u4EE3\u8868\u6620\u5C04\u7684\u503C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#format\n     */\n\n    format: (format: string, text: string, def = '-') => {\n        let index = 0\n        let output = ''\n        for (let i = 0; i < format.length; i++) {\n            let t = format[i]\n            if (t === 'v') {\n                output += text[index] == null ? def : text[index]\n                index += 1\n            } else {\n                output += format[i]\n            }\n        }\n        return output\n    },\n\n    /**\n     * \u5C07\u6307\u5B9A\u6587\u5B57\u9650\u7E2E\u6307\u5B9A\u5B57\u7D44\u4E2D\uFF0C\u5982\u679C\u90FD\u4E0D\u7B26\u5408\u5247\u8FD4\u56DE\u6700\u5F8C\u4E00\u500B\u5B57\u7D44\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#findmatchorlast\n     */\n\n    findMatchOrLast: <T extends string>(target: string, keys: T[]): T => {\n        for (let key of keys) {\n            if (target === key) {\n                return key\n            }\n        }\n        return keys[keys.length - 1] || null as any\n    },\n\n    /**\n     * \u53EA\u63D0\u53D6\u6307\u5B9A\u6A19\u7C64\u4E2D\u7684\u5167\u5BB9\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#pickintagcontents\n     */\n\n    pickInTagContents: (params: {\n        text: string\n        start: string\n        end: string\n    }): string[] => {\n        const result: string[] = []\n        const { text, start, end } = params\n        if (!start || !end) {\n            return result\n        }\n\n        const contentLength = text.length\n        const startLength = start.length\n        const endLength = end.length\n        const matchAt = (str: string, index: number, pattern: string): boolean => {\n            if (index + pattern.length > str.length) {\n                return false\n            }\n            for (let j = 0; j < pattern.length; j++) {\n                if (str[index + j] !== pattern[j]) {\n                    return false\n                }\n            }\n            return true\n        }\n\n        let i = 0\n        let buffer = ''\n        let capturing = false\n\n        while (i < contentLength) {\n            if (!capturing) {\n                if (matchAt(text, i, start)) {\n                    i += startLength\n                    capturing = true\n                    buffer = ''\n                    continue\n                }\n                i++\n            } else {\n                if (matchAt(text, i, end)) {\n                    result.push(buffer)\n                    i += endLength\n                    capturing = false\n                    continue\n                }\n                buffer += text[i]\n                i++\n            }\n        }\n        return result\n    },\n\n    /**\n     * \u53EA\u522A\u9664\u6307\u5B9A\u6A19\u7C64\u4E2D\u7684\u5167\u5BB9\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/text.md#removeintagcontents\n     */\n\n    removeInTagContents(params: {\n        text: string\n        start: string\n        end: string\n    }): string {\n        const { text, start, end } = params\n        if (!start || !end) return text\n\n        const contentLength = text.length\n        const startLength = start.length\n        const endLength = end.length\n        const matchAt = (str: string, index: number, pattern: string): boolean => {\n            if (index + pattern.length > str.length) return false\n            for (let j = 0; j < pattern.length; j++) {\n                if (str[index + j] !== pattern[j]) {\n                    return false\n                }\n            }\n            return true\n        }\n\n        let result = ''\n        let i = 0\n        let skipping = false\n\n        while (i < contentLength) {\n            if (!skipping) {\n                if (matchAt(text, i, start)) {\n                    skipping = true\n                    i += startLength\n                    continue\n                }\n                result += text[i]\n                i++\n            } else {\n                if (matchAt(text, i, end)) {\n                    skipping = false\n                    i += endLength\n                    continue\n                }\n                i++\n            }\n        }\n        return result\n    }\n}\n", "/**\n * \u512A\u96C5\u7684 JSON \u683C\u5F0F\u76F8\u95DC\u8655\u7406\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/json.md\n */\n\nexport const json = {\n    /**\n     * \u7D93\u5178\u7684\u6DF1\u62F7\u8C9D\u65B9\u6848 JSON.parse(JSON.stringify(data))\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/json.md#jpjs\n     */\n\n    jpjs: <T>(data: T, replacer?: (key: string, value: any) => any): T => {\n        return JSON.parse(JSON.stringify(data, replacer))\n    },\n\n    /**\n     * \u57F7\u884C JSON Parse\uFF0C\u5982\u679C\u5931\u6557\u56DE\u50B3\u7A7A\u767D\u7269\u4EF6 `{}`\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/json.md#nonstrictjsonparse\n     */\n\n    nonStrictJSONParse: (data: string) => {\n        try {\n            if (typeof data === 'string') {\n                return JSON.parse(data)\n            } else {\n                return data\n            }\n        } catch (error) {\n            return {}\n        }\n    },\n\n    /**\n     * \u57F7\u884C JSON Stringify\uFF0C\u5982\u679C\u5931\u6557\u56DE\u50B3\u5B57\u4E32 `'{}'`\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/json.md#nonstrictjsonstringify\n     */\n\n    nonStrictJSONStringify: (data: Record<string, any>) => {\n        try {\n            return JSON.stringify(data)\n        } catch (error) {\n            return '{}'\n        }\n    }\n\n}\n", "/**\n * \u6D41\u7A0B\u63A7\u5236\u7684\u5DE5\u5177\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md\n */\n\nexport const flow = {\n    /**\n     * \u76F4\u63A5\u904B\u884C\u65B9\u6CD5\u4E26\u8FD4\u56DE\u7D50\u679C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#run\n     */\n\n    run: <T extends () => any>(cb: T): ReturnType<T> => {\n        return cb()\n    },\n\n    /**\n     * \u505C\u6B62\u57F7\u884C\u6307\u5B9A\u6642\u9593(\u6BEB\u79D2)\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#sleep\n     */\n\n    sleep: (ms: number) => {\n        return new Promise(resolve => {\n            setTimeout(() => resolve(null), ms)\n        })\n    },\n\n    /**\n     * \u6C42\u6574\u6578\u7BC4\u570D\u5167\u7684\u96A8\u6A5F\u503C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#randomint\n     */\n\n    randomInt: (min: number, max: number) => {\n        return Math.floor(Math.random() * (max - min + 1) + min)\n    },\n\n    /**\n     * \u5EFA\u7ACB\u4E00\u7D44\u96A8\u6A5F\u7684 v4 uuid\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#createuuid\n     */\n\n    createUuid: () => {\n        if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n            return crypto.randomUUID()\n        }\n        let now = Date.now()\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            let r = (now + Math.random() * 16) % 16 | 0\n            now = Math.floor(now / 16)\n            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)\n        })\n    },\n\n    /**\n     * \u5EFA\u7ACB\u4E00\u7D44\u96A8\u6A5F\u7684 v4 uuid\uFF0C\u4F46\u5728\u524D\u9762\u52A0\u4E0A\u7576\u4E0B\u7684 timestamp(ms)\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#createwithtsuuid\n     */\n\n    createWithTsUuid: () => {\n        return `${Date.now()}-${flow.createUuid()}`\n    },\n\n    /**\n     * \u512A\u96C5\u7684\u8A2D\u8A08\u6709\u9650\u7684\u91CD\u8907\u57F7\u884C\u76F4\u5230\u6210\u529F\u70BA\u6B62\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#retry\n     */\n\n    retry: async<T>(params: {\n        /**\n         * \u8981\u91CD\u8A66\u5E7E\u6B21\n         * @default 1\n         */\n        max?: number\n        /**\n         * \u932F\u8AA4\u6642\u547C\u53EB\u6B64\u4E8B\u4EF6\n         */\n        onFail?: (_index: number, _error: any) => void\n        /**\n         * \u6BCF\u6B21\u932F\u8AA4\u91CD\u8A66\u9593\u683C\u7684\u7B49\u5F85\u6642\u9593(\u6BEB\u79D2)\n         * @default 0\n         */\n        interval?: number\n        /** \u57F7\u884C\u904E\u7A0B\uFF0C\u56DE\u50B3 resolve \u70BA\u6210\u529F\uFF0C reject \u70BA\u5931\u6557\u9032\u5165\u4E0B\u4E00\u6B21\u91CD\u8A66 */\n        action: (_index: number) => Promise<T>\n    }): Promise<T> => {\n        let count = 0\n        let retryMax = params.max == null ? 1 : params.max\n        let fails = [] as Array<{\n            count: number\n            error: any\n        }>\n        while (retryMax > 0) {\n            try {\n                let result = await params.action(count)\n                return result\n            } catch (error) {\n                if (params.onFail) {\n                    params.onFail(count, error)\n                }\n                fails.push({\n                    count,\n                    error\n                })\n            }\n            count += 1\n            retryMax -= 1\n            if (params.interval) {\n                await flow.sleep(params.interval)\n            }\n        }\n        throw fails\n    },\n\n    /**\n     * \u7D50\u5408\u975E\u540C\u6B65\u8207\u8A08\u6578\u7684\u8FF4\u5708\u64CD\u4F5C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#asyncwhile\n     */\n\n    asyncWhile: async(cb: (_context: {\n        count: number\n        doBreak: () => void\n    }) => Promise<any>) => {\n        let isBreak = false\n        let context = {\n            count: 0,\n            doBreak: () => {\n                isBreak = true\n            }\n        }\n\n        while (true) {\n            await cb(context)\n            if (isBreak) {\n                break\n            }\n            context.count += 1\n        }\n    },\n\n    /**\n     * \u7B49\u5F85\u76F4\u5230\u689D\u4EF6\u6210\u7ACB\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/flow.md#waitfor\n     */\n\n    waitFor: <T>(params: {\n        interval: number\n        handler: (_resolve: (_value: T) => void, _reject: (_error: any) => void) => Promise<void>\n    }): Promise<T> => {\n        return new Promise((resolve, reject) => {\n            const state = {\n                done: false\n            }\n            const success = (value: T) => {\n                state.done = true\n                resolve(value)\n            }\n            const fail = (error: any) => {\n                state.done = true\n                reject(error)\n            }\n            const load = async() => {\n                try {\n                    await params.handler(success, fail)\n                } catch (error) {\n                    fail(error)\n                }\n                if (!state.done) {\n                    setTimeout(load, params.interval)\n                }\n            }\n            load()\n        })\n    }\n}\n", "import { Whitespace, VarParameters } from '../types/string'\nimport { PeelType } from '../types/pick'\n\n/**\n * \u7CBE\u6E96\u5730\u63D0\u53D6\u76EE\u6A19\u76F8\u95DC\u8CC7\u6E90\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md\n */\n\nexport const pick = {\n    /**\n     * \u503C\u5982\u679C\u662F null | undefined | Error | NaN\uFF0C\u5247\u56DE\u50B3\u9810\u8A2D\u503C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md#ifbad\n     */\n    ifBad: <T>(data: T | undefined | null | Error, def: T) => {\n        const type = pick.getType(data)\n        const defs = ['empty', 'NaN', 'error']\n        return defs.includes(type) ? def : data\n    },\n    /**\n     * \u503C\u5982\u679C\u662F null | undefined\uFF0C\u5247\u56DE\u50B3\u9810\u8A2D\u503C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md#ifempty\n     */\n    ifEmpty: <T>(data: T | undefined | null, def: T): T => {\n        return (data != null ? data : def)\n    },\n    /**\n     * \u6BD4 typeof \u56DE\u50B3\u66F4\u7CBE\u6E96\u7684\u985E\u578B\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md#gettype\n     */\n    getType: (target: any):\n      'string'\n      | 'number'\n      | 'bigint'\n      | 'boolean'\n      | 'symbol'\n      | 'object'\n      | 'function'\n      | 'empty'\n      | 'array'\n      | 'NaN'\n      | 'regexp'\n      | 'promise'\n      | 'buffer'\n      | 'error' => {\n        let type = typeof target\n        if (target == null) {\n            return 'empty'\n        }\n        if (Array.isArray(target)) {\n            return 'array'\n        }\n        if (type === 'number' && isNaN(target)) {\n            return 'NaN'\n        }\n        if (target instanceof RegExp) {\n            return 'regexp'\n        }\n        if (target instanceof Promise) {\n            return 'promise'\n        }\n        if (typeof Buffer !== 'undefined' && Buffer.isBuffer(target)) {\n            return 'buffer'\n        }\n        if (target instanceof Error) {\n            return 'error'\n        }\n        return type as 'string' | 'number' | 'bigint' | 'boolean' | 'symbol' | 'object' | 'function'\n    },\n    /**\n     * \u7372\u53D6\u6307\u5B9A\u8DEF\u5F91\u7684\u503C\uFF0C\u5982\u679C\u503C\u4E0D\u5B58\u5728\u56DE\u50B3 `null`\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md#peel\n     */\n    peel: <\n        T extends Record<string, any> = Record<'', any>,\n        C extends string = '',\n        R = PeelType<C, T>\n    >(target: T, path: C): C extends '' ? T : (R | null) => {\n        let units = (path as unknown as string).split(/[.[\\]'\"]/g).filter(s => s.trim() !== '')\n        let output = target as any\n\n        while (true) {\n            if (units.length === 0) {\n                return output\n            }\n            if (pick.getType(output) !== 'object') {\n                return null as any\n            }\n            let key = units.shift()\n            if (key) {\n                output = output[key]\n            }\n        }\n    },\n    /**\n     * \u7372\u53D6\u6587\u5B57\u88E1\u9762\u7684\u8B8A\u6578\u5217\u8868\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/pick.md#vars\n     */\n    vars: <\n        S extends string,\n        E extends string,\n        T extends string\n    >({ start, end, text }: {\n        /** \u8907\u5BEB\u8D77\u59CB\u7B26\u865F */\n        start: S extends '' ? never : S extends Whitespace ? never : S\n        /** \u8907\u5BEB\u7D42\u6B62\u7B26\u865F */\n        end: E extends '' ? never : E extends Whitespace ? never : E\n        /** \u8907\u5BEB\u6587\u672C */\n        text: T\n    }): (keyof VarParameters<S, E, T> extends never ? string : keyof VarParameters<S, E, T>)[] => {\n        let isStart = false\n        let output: string[] = []\n        let varKey = ''\n        let startFirstUnit = start[0]\n        let endFirstUnit = end[0]\n        for (let i = 0; i < text.length; i++) {\n            let unit = text[i]\n            if (isStart) {\n                if (unit === endFirstUnit) {\n                    let isEnd = text.slice(i, i + end.length) === end\n                    if (isEnd) {\n                        i += end.length - 1\n                        output.push(varKey)\n                        varKey = ''\n                        isStart = false\n                        continue\n                    }\n                }\n                varKey += unit\n            } else {\n                // \u9032\u5165\u5339\u914D\n                if (unit === startFirstUnit) {\n                    isStart = text.slice(i, i + start.length) === start\n                    if (isStart) {\n                        i += start.length - 1\n                        continue\n                    }\n                }\n            }\n        }\n        return output as any\n    }\n}\n", "/**\n * \u8CA0\u8CAC\u8A08\u7B97\u7684\u55AE\u5143\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/calc.md\n */\n\nexport const calc = {\n    /**\n     * \u5C07\u6307\u5B9A\u6642\u9593\u683C\u5F0F\u7684\u6578\u503C\u8F49\u63DB\u6210\u6BEB\u79D2\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/calc.md#toms\n     * @param unit y: years, d: days, h: hours, m: minutes, s: seconds\n     */\n    toMs: (unit: 'y' | 'd' | 'h' | 'm' | 's', value: number) => {\n        let output = 0\n        if (unit === 's') {\n            output = value * 1000\n        }\n        if (unit === 'm') {\n            output = value * 60000\n        }\n        if (unit === 'h') {\n            output = value * 3600000\n        }\n        if (unit === 'd') {\n            output = value * 86400000\n        }\n        if (unit === 'y') {\n            output = value * 31557600000\n        }\n        return Math.floor(output)\n    }\n}\n", "/**\n * \u512A\u96C5\u7684 Array \u64CD\u4F5C\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md\n */\nexport const array = {\n    /**\n     * \u5C07 Array \u4F9D\u7167\u6307\u5B9A\u6578\u91CF\u96C6\u6210\u4E00\u7D44\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#groups\n     */\n\n    groups: <T>(size: number, items: T[]): T[][] => {\n        let result: T[][] = []\n        for (let i = 0; i < items.length; i += size) {\n            result.push(items.slice(i, i + size))\n        }\n        return result\n    },\n\n    /**\n     * \u5F9E Array \u4E2D\u96A8\u6A5F\u7372\u53D6\u4E00\u500B\u503C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#randompick\n     */\n\n    randomPick: <T>(items: T[]): T => {\n        return items[Math.floor(Math.random() * items.length)]\n    },\n\n    /**\n     * \u5F9E Array \u4E2D\u96A8\u6A5F\u7372\u53D6\u6307\u5B9A\u6578\u91CF\u4E14\u4E0D\u91CD\u8907\u7684\u503C\uFF0C\u5982\u679C\u6307\u5B9A\u6578\u91CF\u5927\u65BC Array \u9577\u5EA6\u6642\u6703\u50B3\u6574\u7D44 Array\u3002\n     * @param take \u6307\u5B9A\u7372\u53D6\u6578\u91CF\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#randompicks\n     */\n\n    randomPicks: <T>(take: number, items: T[]): T[] => {\n        if (items.length <= take) {\n            return items.slice()\n        }\n        let outputs: T[] = []\n        let loop = items.length * 100\n        while (loop > 0) {\n            if (outputs.length >= take) {\n                break\n            }\n            loop -= 1\n            let item = array.randomPick(items)\n            if (outputs.includes(item) === false) {\n                outputs.push(item)\n            }\n        }\n        return outputs\n    },\n\n    /**\n     * \u79FB\u9664 Array \u4E2D\u76F8\u540C\u7684\u5143\u7D20\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#unique\n     */\n\n    unique: <T extends Array<any>>(items: T): T => {\n        return [...new Set(items)] as T\n    },\n\n    /**\n     * \u5141\u8A31\u975E\u540C\u6B65\u9032\u884C\u7684 map\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#asyncmap\n     */\n\n    asyncMap: async <T, R>(items: T[], cb: (_item: T) => Promise<R>): Promise<R[]> => {\n        let output = []\n        for (let item of items) {\n            let result = await cb(item)\n            output.push(result)\n        }\n        return output\n    },\n\n    /**\n     * \u5982\u679C Array \u6C92\u6709\u6307\u5B9A\u7684\u503C\uFF0C\u52A0\u5165\u8A72\u503C\uFF0C\u5982\u679C\u6709\u5247\u79FB\u9664\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/array.md#check\n     */\n\n    check: <T>(items: T[], value: T) => {\n        if (items.includes(value)) {\n            return items.filter(e => e !== value)\n        } else {\n            return [...items, value]\n        }\n    }\n}\n", "import { json } from './json'\nimport { pick } from './pick'\nimport { DeepReadonly } from '../types/record'\n\ntype JsonObject = string | number | boolean | unknown | unknown[] | null | JsonObject[] | {\n    [key: string]: JsonObject\n}\n\ntype SetMapValueOptions = {\n    directReplacePeels?: string[]\n}\n\ntype StrictObjectParams = {\n    [key: string]: [typeof String | typeof Boolean | typeof Number, boolean, unknown, any?]\n}\n\n/**\n * \u512A\u96C5\u7684 Object \u64CD\u4F5C\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/record.md\n */\n\nexport const record = {\n    /**\n     * \u8907\u88FD\u6307\u5B9A\u7269\u4EF6\u7684\u503C\u5230\u76EE\u6A19 Object \u4E0A\uFF0C\u4E26\u7522\u751F\u4E00\u4EFD\u65B0\u7684 Object\uFF0C\u7D30\u90E8\u898F\u5247\u53EF\u8A73\u898B example\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/record.md#setmapvalue\n     */\n\n    setMapValue: <T extends JsonObject>(\n        template: T,\n        target: JsonObject,\n        options?: SetMapValueOptions\n    ): T => {\n        let handler = (template: T, target: JsonObject, nowPeel = '') => {\n            const output: any = {}\n            const s: any = template == null ? {} : json.jpjs(template)\n            const t: any = target == null ? {} : json.jpjs(target)\n            for (let key in s) {\n                let type = pick.getType(s[key])\n                if (type === 'object') {\n                    let skip = (!!options && !!options.directReplacePeels && options.directReplacePeels.includes(`${nowPeel}${key}` as any))\n                    if (skip === false) {\n                        output[key] = handler(s[key], t[key], `${nowPeel}${key}.`)\n                        continue\n                    }\n                }\n                if (t[key] === undefined) {\n                    output[key] = s[key]\n                } else {\n                    output[key] = t[key]\n                }\n            }\n            return output\n        }\n        return handler(template, target)\n    },\n\n    /**\n     * \u5EFA\u7ACB\u4E00\u7D44\u56B4\u683C\u6AA2\u67E5\u3001\u8F49\u8B6F\u4E26\u5BE6\u8CEA\u4E0D\u80FD\u8B8A\u52D5\u7684 Object\uFF0C\u901A\u5E38\u61C9\u7528\u5728\u74B0\u5883\u8B8A\u6578\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/record.md#createstrictobject\n     */\n\n    createStrictObject: <T extends StrictObjectParams>(envs: T): DeepReadonly<{\n        [key in keyof T]:\n        T[key][0] extends typeof String ? string : (\n            T[key][0] extends typeof Number ? number : (\n                T[key][0] extends typeof Boolean ? boolean : unknown\n            )\n        )\n    }> => {\n        let output = {} as any\n        let keyFail = (key: string, err: string) => new Error(`Strict Object Fail - ${key}: ${err}!`)\n        for (let key in envs) {\n            let [type, required, value, def] = envs[key]\n            let valueType = pick.getType(value)\n            let outputValue: any = value\n            if (valueType === 'empty') {\n                if (required) {\n                    throw keyFail(key, 'is required')\n                }\n            } else {\n                if (type === String) {\n                    if (valueType !== 'string') {\n                        throw keyFail(key, 'not a string')\n                    }\n                    if (required && outputValue.trim() === '') {\n                        throw keyFail(key, 'no content')\n                    }\n                }\n                if (type === Number) {\n                    if (valueType !== 'number' && valueType !== 'string') {\n                        throw keyFail(key, 'not a number')\n                    }\n                    if (valueType === 'string') {\n                        outputValue = Number(outputValue.trim())\n                    }\n                    if (isNaN(outputValue)) {\n                        throw keyFail(key, 'is NaN')\n                    }\n                }\n                if (type === Boolean) {\n                    if (valueType === 'string') {\n                        outputValue = outputValue.trim()\n                        if (outputValue !== 'true' && outputValue !== 'false') {\n                            throw keyFail(key, 'not a boolean')\n                        } else {\n                            outputValue = outputValue === 'true'\n                        }\n                    }\n                    if (outputValue !== true && outputValue !== false) {\n                        throw keyFail(key, 'output value not a true or false')\n                    }\n                }\n            }\n            output[key] = valueType === 'empty' ? def : outputValue\n        }\n        return Object.freeze(output)\n    },\n\n    /**\n     * \u6DFA\u62F7\u8C9D\u540C\u4E00\u4EFD Object\uFF0C\u4F46\u5FFD\u7565\u6389\u6307\u5B9A\u5C0D\u8C61\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/record.md#omit\n     */\n\n    omit: <D extends object, T extends (keyof D)[]>(data: D, keys: T): Omit<D, T[0]> => {\n        let output: any = {}\n        for (let key in data) {\n            if (keys.includes(key) === false) {\n                output[key] = data[key]\n            }\n        }\n        return output\n    },\n\n    /**\n     * Promise.all \u7684\u9375\u503C\u5C0D\u7248\u672C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/record.md#promiseallwithkeys\n     */\n\n    promiseAllWithKeys: <T extends Record<string, Promise<any>>>(obj: T): Promise<{\n        [K in keyof T]: T[K] extends Promise<infer U> ? U : never\n    }> => {\n        const keys = Object.keys(obj)\n        const values = Object.values(obj)\n        return Promise.all(values).then((res) => {\n            return res.reduce((acc, cur, index) => {\n                acc[keys[index]] = cur\n                return acc\n            }, {})\n        })\n    },\n\n    /**\n     * \u7C21\u6613\u6BD4\u5C0D\u5169\u500B Object \u662F\u5426\u6709\u5DEE\u7570\uFF0C\u6709\u5DEE\u7570\u56DE\u50B3 true\uFF0C\u50C5\u652F\u63F4 JSON \u7684\u6240\u6709\u578B\u614B\u3002\n     */\n\n    simpleCheckDeepDiff: <T extends Record<string, any>>(a: T, b: T): boolean => {\n        let aType = pick.getType(a)\n        let bType = pick.getType(b)\n        if (aType !== bType) {\n            return true\n        }\n        if (aType === 'object') {\n            let aKeys = Object.keys(a)\n            let bKeys = Object.keys(b)\n            if (aKeys.length !== bKeys.length) {\n                return true\n            }\n            for (let key of aKeys) {\n                if (record.simpleCheckDeepDiff(a[key], b[key])) {\n                    return true\n                }\n            }\n            return false\n        }\n        if (aType === 'array') {\n            if (a.length !== b.length) {\n                return true\n            }\n            for (let i = 0; i < a.length; i++) {\n                if (record.simpleCheckDeepDiff(a[i], b[i])) {\n                    return true\n                }\n            }\n            return false\n        }\n        return a !== b\n    }\n}\n", "const getNavigator = () => typeof window === 'undefined' ? null : window.navigator\n\n/**\n * \u9A57\u8B49\u7576\u4E0B\u7684\u57F7\u884C\u74B0\u5883\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md\n */\n\nexport const detect = {\n\n    /**\n     * \u662F\u5426\u6B63\u5728 Line\u3001Messenger \u7B49 in app browser \u88E1\u9762\u57F7\u884C\uFF0C\u5F88\u96E3\u8986\u84CB\u6240\u6709\u61C9\u7528\u7BC4\u570D\uFF0C\u50C5\u4F9B\u53C3\u8003\u4F7F\u7528\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md#inappbrowser\n     */\n\n    inAppBrowser: () => {\n        let navigator = getNavigator()\n        if (navigator == null) {\n            return false\n        }\n        let ua = navigator.userAgent.toLowerCase()\n        let platforms = [\n            'line/',\n            'instagram',\n            'fbios',\n            'fb_iab',\n            'fban',\n            'fbav',\n            'micromessenger'\n        ]\n        for (let platform of platforms) {\n            if (ua.includes(platform)) {\n                return true\n            }\n        }\n        return false\n    },\n\n    /**\n     * \u662F\u5426\u6B63\u5728 iOS \u6216\u662F Android \u7CFB\u7D71\u88E1\u9762\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md#inmobile\n     */\n\n    inMobile: () => {\n        return detect.inIOS() || detect.inAndroid()\n    },\n\n    /**\n     * \u662F\u5426\u6B63\u5728 iOS \u7CFB\u7D71\u88E1\u9762\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md#inios\n     */\n\n    inIOS: () => {\n        let navigator = getNavigator()\n        if (navigator == null) {\n            return false\n        }\n        return /iPad|iPhone|iPod/.test(navigator.userAgent)\n    },\n\n    /**\n     * \u662F\u5426\u6B63\u5728 Android \u7CFB\u7D71\u88E1\u9762\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md#inandroid\n     */\n\n    inAndroid: () => {\n        let navigator = getNavigator()\n        if (navigator == null) {\n            return false\n        }\n        let ua = navigator.userAgent.toLowerCase()\n        return ua.indexOf('android') > -1\n    },\n\n    /**\n     * \u662F\u5426\u6B63\u5728 Safari \u700F\u89BD\u5668\u88E1\u9762\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/detect.md#insafari\n     */\n\n    inSafari: () => {\n        let navigator = getNavigator()\n        if (navigator == null) {\n            return false\n        }\n        let ua = navigator.userAgent\n        let iOS = !!ua.match(/iP(ad|od|hone)/i)\n        let hasSafariInUa = !!ua.match(/Safari/i)\n        let noOtherBrowsersInUa = !ua.match(/Chrome|CriOS|OPiOS|mercury|FxiOS|Firefox/i)\n        let result = false\n        if (iOS) {\n            let webkit = !!ua.match(/WebKit/i)\n            result = webkit && hasSafariInUa && noOtherBrowsersInUa\n        // @ts-ignore\n        } else if (typeof window !== 'undefined' && window.safari !== undefined) {\n            result = true\n        } else {\n            result = hasSafariInUa && noOtherBrowsersInUa\n        }\n        return result\n    }\n}\n", "/**\n * \u8CC7\u6599\u6AA2\u67E5\u5668\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/checker.md\n */\n\nexport const checker = {\n    /**\n     * \u8CA0\u8CAC\u6AA2\u67E5\u6A94\u6848\u662F\u5426\u7B26\u5408 input tag accept \u6307\u5B9A\u7684\u683C\u5F0F\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/checker.md#inputaccept\n     */\n    inputAccept: (targetType: string, fileType: string, fileName?: string) => {\n        // \u7121\u9650\u5236\u63A5\u53D7\u4EFB\u4F55\u6A94\u6848\n        if (targetType === '*/*') {\n            return true\n        }\n        const acceptPatterns: RegExp[] = []\n        targetType.split(',').forEach(type => {\n            if (type === '.jpg' || type === '.jpeg') {\n                acceptPatterns.push(/image\\/(jpeg)/i)\n                acceptPatterns.push(/image\\/(jpg)/i)\n            }\n            if (type === '.mp3') {\n                acceptPatterns.push(/audio\\/(mpeg)/i)\n                acceptPatterns.push(/audio\\/(mp3)/i)\n            }\n            // MIME \u985E\u578B\u7684\u901A\u914D\u7B26\uFF0C\u4F8B\u5982 image/* \u8F49\u63DB\u6210\u6B63\u5247\u8868\u9054\u5F0F\n            if (type.indexOf('/*') !== -1) {\n                acceptPatterns.push(new RegExp(type.replace('*', '.+'), 'i'))\n            }\n            // \u64F4\u5C55\u540D\uFF0C\u4F8B\u5982 .png\n            if (type.startsWith('.')) {\n                acceptPatterns.push(new RegExp(`\\\\${type}$`, 'i'))\n            }\n            // \u5B8C\u6574\u7684 MIME \u985E\u578B\uFF0C\u4F8B\u5982 image/png\n            acceptPatterns.push(new RegExp(type.replace('/', '\\\\/'), 'i'))\n        })\n        if (fileName) {\n            const matches = acceptPatterns.some(pattern => pattern.test(fileType) || pattern.test(fileName))\n            if (!matches) {\n                return false\n            }\n        } else {\n            const matches = acceptPatterns.some(pattern => pattern.test(fileType))\n            if (!matches) {\n                return false\n            }\n        }\n        return true\n    }\n}\n", "/**\n * \u512A\u96C5\u7684 Dom \u64CD\u4F5C\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/element.md\n */\n\nexport const element = {\n    /**\n     * \u900F\u904E\u57F7\u884C\u968E\u6BB5\u6CE8\u5165 Script Tag\uFF0C\u9019\u500B\u65B9\u6CD5\u53EA\u5141\u8A31\u5728 Browser \u4E2D\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/element.md#importscript\n     */\n\n    importScript: (url: string, options?: {\n        appendBefore?: (_el: HTMLScriptElement) => void\n    }) => new Promise((resolve, reject) => {\n        let dom = window.document as any\n        let script = dom.createElement('script')\n        let elements = Array.from(window.document.getElementsByTagName('script'))\n        for (let element of elements) {\n            if (element.src === url) {\n                return resolve(null)\n            }\n        }\n        script.src = url\n        if (options?.appendBefore) {\n            options.appendBefore(script)\n        }\n        script.onload = resolve\n        script.onerror = reject\n        dom.body.appendChild(script)\n    }),\n\n    /**\n     * \u5EFA\u7ACB\u4E00\u500B Element \u4E26 Append \u81F3 Body \u6216\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u9019\u500B\u65B9\u6CD5\u53EA\u5141\u8A31\u5728 Browser \u4E2D\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/element.md#createandappend\n     * @param {HTMLElement} [target=document.body] \u6307\u5B9A\u4F4D\u7F6E\n     */\n\n    createAndAppend: <T extends keyof HTMLElementTagNameMap>(\n        tag: T,\n        cb: (el: HTMLElementTagNameMap[T]) => any,\n        target?: HTMLElement\n    ) => {\n        let element = window.document.createElement(tag)\n        cb(element)\n        if (target) {\n            target.appendChild(element)\n        } else {\n            window.document.body.appendChild(element)\n        }\n        return element\n    },\n\n    /**\n     * \u900F\u904E\u57F7\u884C\u968E\u6BB5\u6CE8\u5165\u5E36 Stylesheet \u7684 Link Tag\uFF0C\u9019\u500B\u65B9\u6CD5\u53EA\u5141\u8A31\u5728 Browser \u4E2D\u57F7\u884C\u3002\n     * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/utils/element.md#importcss\n     */\n\n    importCss: (url: string, options?: {\n        appendBefore?: (_el: HTMLLinkElement) => void\n    }) => {\n        return new Promise((resolve, reject) => {\n            let dom = window.document\n            let link = dom.createElement('link')\n            let elements = Array.from(window.document.getElementsByTagName('link'))\n            for (let element of elements) {\n                if (element.href === url) {\n                    return resolve(null)\n                }\n            }\n            link.rel = 'stylesheet'\n            link.href = url\n            if (options?.appendBefore) {\n                options.appendBefore(link)\n            }\n            link.onload = resolve\n            link.onerror = reject\n            dom.body.appendChild(link)\n        })\n    }\n}\n", "type ListenerContext = {\n    /**\n     * @zh \u552F\u4E00\u4E26\u96A8\u6A5F\u7684 Listener ID\n     * @en Unique and random Listener ID\n     */\n    id: string\n    /**\n     * @zh \u95DC\u9589\u9019\u500B Listener\n     * @en Close this Listener\n     */\n    off: () => void\n    /**\n     * @zh \u4E00\u7D44\u53EF\u4F9B\u7576\u4E0B Listener \u5132\u5B58\u7684\u7A7A\u767D\u7269\u4EF6\n     * @en A set of blank objects that can be stored by the current Listener\n     */\n    state: Record<string, any>\n}\n\ntype ListenerCallback<T> = (_data: T, _context: ListenerContext) => void\n\nclass Listener<T> {\n    /**\n     * @zh \u552F\u4E00\u4E26\u96A8\u6A5F\u7684 Listener ID\n     * @en Unique and random Listener ID\n     */\n\n    id = Date.now().toString() + Math.floor(Math.random() * 1000000)\n\n    /**\n     * @zh \u4E00\u7D44\u53EF\u4F9B\u7576\u4E0B Listener \u5132\u5B58\u7684\u7A7A\u767D\u7269\u4EF6\n     * @en A set of blank objects that can be stored by the current Listener\n     */\n\n    state: Record<string, any> = {}\n\n    /**\n     * @zh \u76E3\u807D\u7684\u4E8B\u4EF6\n     * @en Listened event\n     */\n\n    event: string\n    callback: ListenerCallback<T>\n    manager: Event<any>\n\n    constructor(manager: Event<any>, event: string, callback: ListenerCallback<any>) {\n        this.manager = manager\n        this.event = event\n        this.callback = callback\n    }\n\n    /**\n     * @zh \u89F8\u767C\u9019\u500B\u76E3\u807D\u5C0D\u8C61\n     * @en Trigger this Listener\n     */\n\n    invoke(data: T) {\n        this.callback(data, {\n            id: this.id,\n            off: () => this.off(),\n            state: this.state\n        })\n    }\n\n    /**\n     * @zh \u95DC\u9589\u9019\u500B Listener\n     * @en Close this Listener\n     */\n\n    off() {\n        this.manager.off(this.event, this.id)\n    }\n}\n\n/**\n * \u4E8B\u4EF6\u76E3\u807D\u5668\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/event.md\n */\n\nexport class Event<T extends Record<string, Record<string, any>>> {\n    listeners: Map<string, Listener<any>[]> = new Map()\n\n    /**\n     * @zh \u7372\u53D6\u6307\u5B9A\u4E8B\u4EF6\u7684\u76E3\u807D\u6578\u91CF\n     * @en Get the number of listeners for the specified event\n     */\n\n    getEventListenerSize<K extends keyof T>(event: K) {\n        let listeners = this.listeners.get(event as string)\n        if (listeners) {\n            return listeners.length\n        } else {\n            return 0\n        }\n    }\n\n    /**\n     * @zh \u767C\u9001\u8CC7\u6599\u81F3\u6307\u5B9A\u4E8B\u4EF6\n     * @en Send data to the specified event\n     */\n\n    emit<K extends keyof T>(event: K, data: T[K]) {\n        let listeners = this.listeners.get(event as string)\n        if (listeners) {\n            for (let listener of listeners) {\n                listener.invoke(data)\n            }\n        }\n        let allListeners = this.listeners.get('*')\n        if (allListeners) {\n            for (let listener of allListeners) {\n                listener.invoke({\n                    data,\n                    event\n                })\n            }\n        }\n    }\n\n    /**\n     * @zh \u505C\u6B62\u6307\u5B9A\u4E8B\u4EF6\u8207 ID \u7684 Listener\n     * @en Stop the Listener of the specified event and ID\n     */\n\n    off<K extends keyof T>(event: K, id: string) {\n        let key = event as string\n        let listeners = this.listeners.get(key)\n        if (listeners) {\n            this.listeners.set(key, listeners.filter(e => e.id !== id))\n        }\n    }\n\n    /**\n     * @zh \u76E3\u807D\u6307\u5B9A\u4E8B\u4EF6\n     * @en Listen to the specified event\n     */\n\n    on<K extends keyof T>(event: K | '*', callback: ListenerCallback<T[K]>) {\n        let key = event as string\n        let listener: Listener<T[K]> = new Listener(this, key, callback)\n        if (this.listeners.has(key) === false) {\n            this.listeners.set(key, [])\n        }\n        (this.listeners.get(key) as any).push(listener)\n        return listener\n    }\n}\n", "import { Event } from './event'\n\ntype Color = 'default' | 'black' | 'red' | 'green' | 'yellow' | 'blue' | 'cyan' | 'white'\ntype LogType = 'normal' | 'dev' | 'super-error' | 'error' | 'warning' | 'fixme' | 'todo'\ntype Events = {\n    print: {\n        time: string\n        name: string\n        data: any\n        step: number\n        color: Color\n        message: string\n        silence: boolean\n        logType: LogType\n    }\n}\n\nconst nodeColors: Record<Color, string> = {\n    default: '',\n    red: '\\x1b[31m',\n    blue: '\\x1b[34m',\n    cyan: '\\x1b[36m',\n    black: '\\x1b[30m',\n    white: '\\x1b[37m',\n    green: '\\x1b[32m',\n    yellow: '\\x1b[33m'\n}\n\n/**\n * \u4E00\u7A2E\u66F4\u9AD8\u968E\u6253\u5370\u51FA Log \u7684\u6A21\u7D44\uFF0C\u4E0D\u53EA\u662F\u4F60\u53EF\u4EE5\u63A7\u5236\u4ED6\u662F\u5426\u8981\u5728\u6307\u5B9A\u74B0\u5883\u4E2D\u986F\u793A\uFF0C\u751A\u81F3\u53EF\u4EE5\u5EFA\u7ACB\u76E3\u807D\u6253\u5370\u4E8B\u4EF6\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/log.md\n */\n\nexport class Log extends Event<Events> {\n    private step = 0\n    private name\n    private isSilence = false\n    private defaultLogType: LogType = 'normal'\n    constructor(name: string, options?: {\n        /** \u662F\u5426\u9810\u8A2D\u70BA silence \u72C0\u614B */\n        silence?: boolean\n        /** \u5982\u679C\u4E0D\u6307\u5B9A LogType \u5247\u9810\u8A2D\u6B64\u8A2D\u5B9A\u503C */\n        defaultLogType?: LogType\n    }) {\n        super()\n        this.name = name\n        if (options) {\n            if (options.silence != null) {\n                this.silence(options.silence)\n            }\n            if (options.defaultLogType != null) {\n                this.defaultLogType = options.defaultLogType\n            }\n        }\n    }\n\n    private getNow() {\n        return (new Date()).toISOString().split(/T|\\./).slice(0, 2).join(' ')\n    }\n\n    private toPrintString(time: string, logType: LogType, content: string) {\n        return `[${time}][${this.name}][${logType}] ${this.step}: ${content}`\n    }\n\n    /**\n     * \u53EF\u4EE5\u7E7C\u7E8C\u547C\u53EB print \u4F46\u4E0D\u6703\u6253\u5370 log\u3002\n     */\n\n    silence(active = true) {\n        this.isSilence = active\n    }\n\n    /**\n     * \u6253\u5370 log\u3002\n     */\n\n    print(data: any, options: {\n        color?: Color\n        logType?: LogType\n    } = {}) {\n        this.step += 1\n        let now = this.getNow()\n        let color: Color = options.color || 'default'\n        let logType = options.logType || this.defaultLogType\n        let message = this.toPrintString(now, logType, data)\n        let output = {\n            time: now,\n            name: this.name,\n            step: this.step,\n            data,\n            color,\n            message,\n            logType,\n            silence: this.isSilence\n        }\n        this.emit('print', output)\n        if (this.isSilence === false) {\n            if (color === 'default') {\n                console.log(message)\n            } else if (typeof window === 'undefined') {\n                console.log(`${nodeColors[color]}${message}\\x1b[0m`)\n            } else {\n                console.log(`%c ${message}`, `color: ${color}`)\n            }\n        }\n        return output\n    }\n}\n", "import { Event } from './event'\nimport { text } from '../utils/text'\nimport { VarParameters } from '../types/string'\n\nconst { replaceVar } = text\n\ntype Params<L extends string, K extends string> = {\n    def: L\n    locales: {\n        [key in L]: {\n            [key in K]: string\n        }\n    }\n}\n\ntype Events = {\n    get: {\n        key: string\n        text: string\n        locale: string\n        output: string\n    }\n}\n\n/**\n * \u591A\u8A9E\u7CFB\u64CD\u4F5C\u7CFB\u7D71\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/i18n.md\n */\n\nexport class I18n<L extends string, K extends string> extends Event<Events> {\n    private params: Params<L, K>\n    private nowLocale: L\n    constructor(params: Params<L, K>) {\n        super()\n        this.params = params\n        this.nowLocale = params.def\n    }\n\n    private get<\n        T extends (K | `##${string}`),\n        V extends VarParameters<'{', '}', T extends string ? T : ''>\n    >(locale: L, key: T, ...vars: V extends Record<string, never> ? any[] : [V]) {\n        let text = key as string\n        if (text.slice(0, 2) === '##') {\n            text = text.slice(2).trim()\n        } else {\n            // @ts-ignore\n            text = (this.params.locales?.[locale]?.[key] || key)\n        }\n        let output = replaceVar({\n            start: '{',\n            end: '}',\n            text,\n            vars: vars[0] || {}\n        })\n        this.emit('get', {\n            key,\n            text,\n            locale,\n            output\n        })\n        return output\n    }\n\n    /** \u8F38\u51FA\u9078\u5B9A\u7684\u8A9E\u7CFB */\n\n    export(locale: L) {\n        return <\n            T extends (K | `##${string}`),\n            V extends VarParameters<'{', '}', T extends string ? T : ''>\n        >(key: T, ...vars: V extends Record<string, never> ? any[] : [V]) => this.get(locale, key, ...vars)\n    }\n\n    /** \u8FD4\u56DE\u6307\u5B9A\u9375\u503C\u7684\u8A9E\u7CFB */\n\n    t<\n        T extends (K | `##${string}`),\n        V extends VarParameters<'{', '}', T extends string ? T : ''>\n    >(key: T, ...vars: V extends Record<string, never> ? any[] : [V]) {\n        return this.get(this.nowLocale, key, ...vars)\n    }\n\n    /** \u8A2D\u5B9A\u8A9E\u7CFB */\n\n    setLocale(locale: L) {\n        this.nowLocale = locale\n    }\n\n    /** \u7372\u53D6\u7576\u524D\u8A9E\u7CFB */\n\n    getLocale() {\n        return this.nowLocale\n    }\n\n    /**\n     * \u7372\u53D6\u9375\u503C\u4F86\u5354\u52A9\u5EF6\u5F8C\u7372\u53D6\u8A9E\u7CFB\n     * @example\n     * i18n.key('user').get('zh')\n     * // output: \u4F7F\u7528\u8005\n     */\n\n    key<\n        T extends (K | `##${string}`),\n        V extends VarParameters<'{', '}', T extends string ? T : ''>\n    >(key: T, ...vars: V extends Record<string, never> ? any[] : [V]) {\n        return {\n            get: (locale: L) => this.get(locale, key, ...vars)\n        }\n    }\n}\n", "type ListenerContext = {\n    /** \u552F\u4E00\u4E26\u96A8\u6A5F\u7684 Listener ID */\n    id: string\n    /** \u95DC\u9589\u9019\u500B Listener  */\n    off: () => void\n    /** \u4E00\u7D44\u53EF\u4F9B\u7576\u4E0B Listener \u5132\u5B58\u7684\u7A7A\u767D\u7269\u4EF6 */\n    state: Record<string, any>\n}\n\ntype ListenerCallback<T> = (data: T, context: ListenerContext) => Promise<void>\n\nclass Listener<T> {\n    /** \u552F\u4E00\u4E26\u96A8\u6A5F\u7684 Listener ID */\n    readonly id = Date.now().toString() + Math.floor(Math.random() * 1000000)\n    /** \u4E00\u7D44\u53EF\u4F9B\u7576\u4E0B Listener \u5132\u5B58\u7684\u7A7A\u767D\u7269\u4EF6 */\n    readonly state: Record<string, any> = {}\n    /** \u76E3\u807D\u7684\u983B\u9053 */\n    readonly channel: string\n    private callback: ListenerCallback<T>\n    private manager: Hook<any>\n    isAfter = false\n\n    constructor(manager: Hook<any>, channel: string, callback: ListenerCallback<any>) {\n        this.manager = manager\n        this.channel = channel\n        this.callback = callback\n    }\n\n    /** \u89F8\u767C\u9019\u500B\u76E3\u807D\u5C0D\u8C61 */\n\n    async invoke(data: T) {\n        await this.callback(data, {\n            id: this.id,\n            off: () => this.off(),\n            state: this.state\n        })\n    }\n\n    /** \u95DC\u9589\u9019\u500B Listener */\n\n    off() {\n        this.manager.detach(this.channel, this.id)\n    }\n}\n\n/**\n * \u70BA\u975E\u540C\u6B65\u800C\u751F\u7684 Pub/Sub \u7684\u67B6\u69CB\u6A21\u584A\uFF0C\u4F7F\u7528\u65B9\u6CD5\u8DDF Event \u975E\u5E38\u76F8\u4F3C\uFF0C\u50C5\u5B58\u7684\u5DEE\u5225\u5728\u65BC Hook \u53EA\u63A5\u53D7\u4E26\u4F9D\u7167\u9806\u5E8F\u57F7\u884C\u975E\u540C\u6B65\u51FD\u5F0F\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/hook.md\n */\n\nexport class Hook<T extends Record<string, Record<string, any>>> {\n    private listeners: Map<string, Listener<any>[]> = new Map()\n\n    /** \u767C\u9001\u8CC7\u6599\u81F3\u6307\u5B9A\u983B\u9053 */\n\n    async notify<K extends keyof T>(channel: K, data: T[K]) {\n        let listeners = this.listeners.get(channel as string)\n        if (listeners) {\n            for (let listener of listeners.filter(e => e.isAfter === false)) {\n                await listener.invoke(data)\n            }\n            for (let listener of listeners.filter(e => e.isAfter)) {\n                await listener.invoke(data)\n            }\n        }\n    }\n\n    /** \u53D6\u6D88\u6307\u5B9A ID \u639B\u52FE */\n\n    detach<K extends keyof T>(channel: K, id: string) {\n        let key = channel as string\n        let listeners = this.listeners.get(key)\n        if (listeners) {\n            this.listeners.set(key, listeners.filter(e => e.id !== id))\n        }\n    }\n\n    /** \u639B\u52FE\u6307\u5B9A\u983B\u9053 */\n\n    attach<K extends keyof T>(channel: K, callback: ListenerCallback<T[K]>) {\n        let key = channel as string\n        let listener: Listener<T[K]> = new Listener(this, key, callback)\n        if (this.listeners.has(key) === false) {\n            this.listeners.set(key, [])\n        }\n        (this.listeners.get(key) as any).push(listener)\n        return listener\n    }\n\n    /** \u639B\u52FE\u6307\u5B9A\u983B\u9053\uFF0C\u4E14\u7121\u8AD6\u8A3B\u518A\u6642\u9593\u5982\u4F55\uFF0C\u6C38\u9060\u6703\u5728\u6700\u5F8C\u57F7\u884C */\n\n    attachAfter<K extends keyof T>(channel: K, callback: ListenerCallback<T[K]>) {\n        let listener = this.attach(channel, callback)\n        listener.isAfter = true\n        return listener\n    }\n}\n", "import { Event } from './event'\n\ntype PickContext = {\n    key: string\n}\n\ntype Pick<P, R> = (params: P, context: PickContext) => Promise<R>\n\nclass CacheItem<T> {\n    readonly data: T\n    index: number\n    ttl: number\n    createdAt: number = Date.now()\n    constructor(data: T, index: number, ttl: number) {\n        this.data = data\n        this.index = index\n        this.ttl = ttl\n    }\n\n    isExpired() {\n        return (this.createdAt + this.ttl) < Date.now()\n    }\n}\n\ntype Events<T> = {\n    remove: {\n        data: T\n    }\n}\n\n/**\n * \u53EF\u4EE5\u5C07\u6307\u5B9A\u53C3\u6578\u8ACB\u6C42\u9032\u884C\u6709\u671F\u9650\u7684\u56FA\u5B9A\u8CC7\u6599\u5B58\u53D6\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/cache.md\n */\n\nexport class Cache<P, R> extends Event<Events<R>> {\n    private event = new Event()\n    private key: (params: P) => string\n    private index = 0\n    private maxSize: number\n    private pick: Pick<P, R>\n    private ttl: number\n    private items: Map<string, CacheItem<R>> = new Map()\n    constructor(params: {\n        /** \u5C07\u53C3\u6578\u8F49\u63DB\u6210\u552F\u4E00\u9375 */\n        key: (params: P) => string\n        /** \u5982\u679C\u9375\u503C\u4E0D\u5B58\u5728\u5247\u5982\u4F55\u7372\u53D6\u8CC7\u6599 */\n        pick: Pick<P, R>\n        /** \u6BCF\u7B46\u8CC7\u6599\u7684\u5B58\u6D3B\u6642\u9593\uFF0C\u8D85\u904E\u5247\u91CD\u53D6\uFF0C\u55AE\u4F4D:\u6BEB\u79D2 */\n        ttl?: number\n        /** \u6700\u591A\u5B58\u53D6\u5E7E\u7B46\u8CC7\u6599\uFF0C\u8D85\u904E\u5247\u6703\u522A\u9664\u6700\u820A\u7684\u8CC7\u6599 */\n        maxSize?: number\n    }) {\n        super()\n        this.key = params.key\n        this.pick = params.pick\n        this.maxSize = params.maxSize || Infinity\n        this.ttl = params.ttl == null ? Infinity : params.ttl\n    }\n\n    private refresh() {\n        if (this.ttl !== Infinity) {\n            this.removeExpired()\n        }\n        if (this.maxSize !== Infinity) {\n            if (this.items.size > this.maxSize) {\n                let diff = this.items.size - this.maxSize\n                let items = [...this.items.entries()].sort((a, b) => a[1].index > b[1].index ? 1 : -1).slice(0, diff)\n                for (let item of items) {\n                    this.removeByKey(item[0])\n                }\n            }\n        }\n    }\n\n    /** \u7372\u53D6\u6240\u6709\u7684 Cache \u9375\u503C */\n\n    keys() {\n        return Array.from(this.items.keys())\n    }\n\n    /** \u7372\u53D6 Cache \u7684\u8CC7\u6599\u9577\u5EA6 */\n\n    size() {\n        return this.items.size\n    }\n\n    /** \u6E05\u7A7A\u6240\u6709 Cache\u3002 */\n\n    clear() {\n        let keys = this.keys()\n        for (let key of keys) {\n            this.removeByKey(key)\n        }\n    }\n\n    /** \u522A\u9664\u6307\u5B9A\u53C3\u6578\u7684 Cache\u3002 */\n\n    remove(params: P) {\n        let key = this.key(params)\n        this.removeByKey(key)\n    }\n\n    /** \u624B\u52D5\u6E05\u9664\u904E\u671F\u7684 Cache\u3002 */\n\n    removeExpired() {\n        for (let [key, data] of this.items) {\n            if (data.isExpired()) {\n                this.removeByKey(key)\n            }\n        }\n    }\n\n    private removeByKey(key: string) {\n        let data = this.items.get(key)\n        if (data) {\n            this.emit('remove', {\n                data: data.data\n            })\n            this.items.delete(key)\n        }\n    }\n\n    /** \u76F4\u63A5\u8A2D\u5B9A\u6307\u5B9A\u53C3\u6578\u7684\u503C\u3002 */\n\n    set(params: P, data: R) {\n        let key = this.key(params)\n        this.setByKey(key, data)\n    }\n\n    private setByKey(key: string, data: R) {\n        this.removeByKey(key)\n        this.index += 1\n        this.items.set(key, new CacheItem(data, this.index, this.ttl))\n        this.refresh()\n    }\n\n    /** \u7372\u53D6\u6307\u5B9A\u53C3\u6578\u7684\u503C\u3002 */\n\n    get(params: P): Promise<R> {\n        this.refresh()\n        return new Promise((resolve, reject) => {\n            let key = this.key(params)\n            let item = this.items.get(key)\n            if (item && item.isExpired() === false) {\n                return resolve(item.data)\n            }\n            let event = `${key}-onload`\n            let errorEvent = `${key}-error`\n            let [listener, errorListener] = [\n                this.event.on(event, (data) => {\n                    listener.off()\n                    errorListener.off()\n                    resolve(data as any)\n                }),\n                this.event.on(errorEvent, (erroe) => {\n                    listener.off()\n                    errorListener.off()\n                    reject(erroe)\n                })\n            ]\n            if (this.event.getEventListenerSize(event) === 1) {\n                this.pick(params, { key })\n                    .then(item => {\n                        this.event.emit(event, item as any)\n                        this.setByKey(key, item)\n                    })\n                    .catch(error => {\n                        this.event.emit(errorEvent, error)\n                    })\n            }\n        })\n    }\n}\n", "import { Event } from './event'\n\n/**\n * \u5C31\u5982\u540C setInterval (\u5BE6\u969B\u4E0A\u4E5F\u662F) \u4E00\u6A23\u904B\u4F5C\uFF0C\u53EA\u662F\u4F60\u53EF\u4EE5\u76E3\u807D\u597D\u5E7E\u7D44\u4E8B\u4EF6\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/ticker.md\n */\n\nexport class Ticker extends Event<{\n    next: {\n        /** \u57F7\u884C\u6B21\u6578 */\n        delta: number\n        /** \u4E0A\u6B21\u57F7\u884C\u6642\u9593\u8207\u9019\u6B21\u7684\u5DEE\u7570\u6BEB\u79D2 */\n        timeGap: number\n    }\n}> {\n    private int: ReturnType<typeof setInterval>\n    private isStop = false\n    private delta = 0\n    private previousTime = Date.now()\n    constructor(ms: number, options?: {\n        /** \u662F\u5426\u9810\u8A2D\u70BA\u81EA\u52D5\u57F7\u884C */\n        autoPlay?: boolean\n    }) {\n        super()\n        this.int = setInterval(() => this.run(), ms)\n        if (options) {\n            if (options.autoPlay === false) {\n                this.stop()\n            }\n        }\n    }\n\n    private run() {\n        if (this.isStop === false) {\n            let now = Date.now()\n            this.delta += 1\n            this.emit('next', {\n                delta: this.delta,\n                timeGap: now - this.previousTime\n            })\n            this.previousTime = now\n        }\n    }\n\n    /** \u66AB\u505C event \u88AB\u547C\u53EB */\n\n    stop() {\n        this.isStop = true\n    }\n\n    /** \u5047\u5982\u662F\u66AB\u505C\u72C0\u614B\u53EF\u4EE5\u900F\u904E play \u7E7C\u7E8C\u5B9A\u6642\u57F7\u884C event */\n\n    play() {\n        this.isStop = false\n        this.previousTime = Date.now()\n    }\n\n    /** \u95DC\u9589 Interval \u7684\u57F7\u884C */\n\n    close() {\n        clearInterval(this.int)\n    }\n}\n", "import { Ticker } from './ticker'\n\n/**\n * \u4E00\u7D44\u8A08\u6642\u5668\uFF0C\u53EF\u4EE5\u6B63\u5411\u4E5F\u53EF\u4EE5\u53CD\u5411\u8A08\u6642\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/timer.md\n */\n\nexport class Timer extends Ticker {\n    private nowTime = 0\n    private minTime = 0\n    private maxTime = 999999999999\n    private positive = true\n    constructor() {\n        super(1, { autoPlay: false })\n        this.on('next', ({ timeGap }) => {\n            if (this.positive) {\n                this.nowTime += timeGap\n            } else {\n                this.nowTime -= timeGap\n            }\n            if (this.nowTime <= this.minTime) {\n                this.nowTime = this.minTime\n            }\n            if (this.nowTime >= this.maxTime) {\n                this.nowTime = this.maxTime\n            }\n        })\n    }\n\n    /* \u8A2D\u5B9A\u6B63\u5411\u5012\u6578\u6216\u662F\u53CD\u5411 */\n\n    setPositive(positive: boolean) {\n        this.positive = positive\n        return this\n    }\n\n    /* \u8A2D\u5B9A\u6700\u5C0F\u6642\u9593 */\n\n    setMinTime(ms: number) {\n        this.minTime = ms\n    }\n\n    /* \u8A2D\u5B9A\u6700\u5927\u6642\u9593 */\n\n    setMaxTime(ms: number) {\n        this.maxTime = ms\n    }\n\n    /* \u7372\u53D6\u73FE\u5728\u57F7\u884C\u6642\u9593(\u6BEB\u79D2) */\n\n    getTime() {\n        return this.nowTime\n    }\n\n    /* \u8A2D\u5B9A\u57F7\u884C\u6642\u9593(\u6BEB\u79D2) */\n\n    setTime(ms: number) {\n        this.nowTime = ms\n        return this\n    }\n\n    /* \u589E\u52A0\u57F7\u884C\u6642\u9593(\u6BEB\u79D2) */\n\n    addTime(ms: number) {\n        this.nowTime += ms\n        return this\n    }\n\n    /* \u6E1B\u5C11\u57F7\u884C\u6642\u9593(\u6BEB\u79D2) */\n\n    subtractTime(ms: number) {\n        this.nowTime -= ms\n        return this\n    }\n\n    /* \u7372\u53D6\u73FE\u5728\u8A08\u6642\u7684\u5C0F\u6642 */\n\n    getHours() {\n        return this.nowTime / 1000 / 60 / 60\n    }\n\n    /* \u7372\u53D6\u73FE\u5728\u8A08\u6642\u7684\u5206\uFF0C\u6BCF 60 \u4E00\u500B\u5FAA\u74B0 */\n\n    getMinutes() {\n        return this.nowTime / 1000 / 60 % 60\n    }\n\n    /* \u7372\u53D6\u73FE\u5728\u8A08\u6642\u7684\u79D2\uFF0C\u6BCF 60 \u4E00\u500B\u5FAA\u74B0 */\n\n    getSeconds() {\n        return this.nowTime / 1000 % 60\n    }\n\n    /* \u7372\u53D6\u73FE\u5728\u8A08\u6642\u7684\u5206\uFF0C\u6BCF 1000 \u4E00\u500B\u5FAA\u74B0 */\n\n    getMicroseconds() {\n        return this.nowTime % 1000\n    }\n\n    /* \u7372\u53D6\u53EF\u4EE5\u986F\u793A\u7528\u7684\u6642\u9593\u5B57\u4E32\uFF0C\u9810\u8A2D format = hh:mm:ss.ff */\n\n    getTimeString(format = 'hh:mm:ss.ff') {\n        let hours = Math.floor(this.getHours()).toString().padStart(2, '0')\n        let minutes = Math.floor(this.getMinutes()).toString().padStart(2, '0')\n        let seconds = Math.floor(this.getSeconds()).toString().padStart(2, '0')\n        let microseconds = Math.floor(this.getMicroseconds() / 10).toString().padStart(2, '0')\n        return format.replace('hh', hours).replace('mm', minutes).replace('ss', seconds).replace('ff', microseconds)\n    }\n}\n", "export const devError = (functionName: string, message: string) => {\n    throw new Error(`PowerHelper (X_X) => ${functionName} -> ${message}`)\n}\n", "import { Event } from './event'\nimport { devError } from '../base'\n\ntype FailError = {\n    isPowerHelperLoader: true\n    name: string\n    error: any\n    loaderName: string\n}\n\ntype Events = {\n    call: Record<string, unknown>\n    done: Record<string, unknown>\n    clear: Record<string, unknown>\n    fail: {\n        error: FailError\n    }\n    complete: {\n        name: string\n        result: any\n        loaderName: string\n    }\n}\n\ntype LoaderItem<T> = {\n    name: string\n    handler: (_data: T) => Promise<any>\n}\n\n/**\n * \u53EF\u4EE5\u641C\u96C6\u4E26\u767C\u51FA\u591A\u500B Promise \u7684\u52A0\u8F09\u5143\u4EF6\uFF0C\u4E14\u64C1\u6709\u591A\u7A2E\u72C0\u614B\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/loader.md\n */\n\nexport class Loader<T> extends Event<Events> {\n    private name: string\n    private items: LoaderItem<T>[] = []\n    private status = {\n        isDone: false,\n        isCalled: false,\n        isLoading: false,\n        complete: 0,\n        fail: null\n    }\n\n    constructor(name = 'no_name') {\n        super()\n        this.name = name\n    }\n\n    get size() {\n        return this.items.length\n    }\n\n    get complete() {\n        return this.status.complete\n    }\n\n    get done() {\n        return this.status.isDone\n    }\n\n    get fail() {\n        return this.status.fail as null | FailError\n    }\n\n    get called() {\n        return this.status.isCalled\n    }\n\n    get loading() {\n        return this.status.isLoading\n    }\n\n    /** \u6E05\u7A7A\u6240\u6709\u975E\u540C\u6B65\u4E8B\u4EF6 */\n\n    clear() {\n        this.items = []\n        this.emit('clear', {})\n    }\n\n    /** \u52A0\u5165\u4E00\u500B\u975E\u540C\u6B65\u4E8B\u4EF6 */\n\n    push(name: string, handler: (_data: T) => Promise<any>) {\n        let has = this.items.find(e => e.name === name)\n        if (has) {\n            devError('push', `Loader ${name} push name ${name} already exists.`)\n        }\n        this.items.push({\n            name,\n            handler\n        })\n    }\n\n    /** \u91CD\u7F6E Loader \u72C0\u614B\uFF0C\u53EA\u6709\u5728 done \u70BA true \u624D\u80FD\u57F7\u884C */\n\n    reset() {\n        if (this.status.isDone === false) {\n            throw new Error(`Loader ${this.name} call \"reset\" must called start.`)\n        }\n        Object.assign(this.status, {\n            isDone: false,\n            isCalled: false,\n            isLoading: false,\n            complete: 0,\n            fail: null\n        })\n        return this\n    }\n\n    /** \u57F7\u884C\u6240\u6709\u5DF2\u8A3B\u518A\u7684\u4E8B\u4EF6 */\n\n    start(data: T): Promise<Array<{ name: string, result: any }>> {\n        if (this.status.isCalled) {\n            devError('start', `Loader ${this.name} Already Called.`)\n        }\n        this.status.isCalled = true\n        this.status.isLoading = true\n        this.emit('call', {})\n        return new Promise((resolve, reject) => {\n            let promises = this.items.map(({ name, handler }) => {\n                return async() => {\n                    try {\n                        let result = await handler(data)\n                        this.status.complete += 1\n                        this.emit('complete', {\n                            name,\n                            result,\n                            loaderName: this.name,\n                        })\n                        return {\n                            name,\n                            result\n                        }\n                    } catch (error) {\n                        throw {\n                            isPowerHelperLoader: true,\n                            loaderName: this.name,\n                            name,\n                            error\n                        }\n                    }\n                }\n            })\n            Promise\n                .all(promises.map(e => e()))\n                .then(result => {\n                    this.status.isDone = true\n                    this.status.isLoading = false\n                    this.emit('done', {})\n                    resolve(result)\n                })\n                .catch(error => {\n                    this.status.isDone = true\n                    this.status.isLoading = false\n                    this.status.fail = error\n                    this.emit('fail', {\n                        error\n                    })\n                    reject(error)\n                })\n        })\n    }\n}\n", "type StyleKeys = keyof CSSStyleDeclaration\n\nfunction toStyleCase(key: string) {\n    return key.replace(/[A-Z]/g, letter => `-${letter.toLowerCase()}`)\n}\n\n/**\n * \u65B9\u4FBF\u7D44\u5408\u51FA HTML Element Style \u7684\u5DE5\u5177\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/style-string.md\n */\n\nexport class StyleString {\n    private styles: Record<string, string> = {}\n\n    /** \u5BEB\u5165 key */\n    set(key: StyleKeys, value?: string, defaultValue?: string) {\n        let v = value == null ? defaultValue : value\n        if (v) {\n            this.styles[key as string] = v\n        }\n    }\n\n    /** \u7372\u53D6\u6307\u5B9A key \u7684\u503C */\n    get(key: StyleKeys) {\n        return this.styles[key as string]\n    }\n\n    /** \u522A\u9664\u6307\u5B9A\u7684 key */\n    remove(key: StyleKeys) {\n        if (this.styles[key as string]) {\n            delete this.styles[key as string]\n        }\n    }\n\n    /** \u5F9E\u5C0D\u8C61\u9762\u9644\u5024 */\n    assign(element: HTMLElement) {\n        for (let [style, value] of Object.entries(this.styles)) {\n            element.style[style as any] = value\n        }\n    }\n\n    /** \u7372\u5F97 style string */\n    join(separator = ';') {\n        let codes = []\n        for (let [style, value] of Object.entries(this.styles)) {\n            codes.push(`${toStyleCase(style)}:${value}`)\n        }\n        return codes.join(separator)\n    }\n}\n", "import { Event } from './event'\nimport { text } from '../utils/text'\nimport { StyleString } from './style-string'\n\ntype Items = Record<string, (data: any) => string>\n\ntype ResourceSupport = string | File | Blob | MediaSource\n\ntype ResourceParams<I extends Items> = {\n    def: (_path: string) => string\n    items?: I\n}\n\ntype Events = {\n    fetch: {\n        url: string\n        source: ResourceSupport\n        isObjectUrl: boolean\n    }\n}\n\n// TODO: \u9700\u8981\u65B0\u7684 guide module \u4F86\u63A7\u5236\u524D\u7DB4\u8207\u5C0E\u5411\n// private base\n// private alias: Map<string, string> = new Map()\n// private redirects: Map<string, string> = new Map()\n\n/**\n * \u512A\u96C5\u7684\u5BE6\u73FE\u7372\u53D6\u6A94\u6848\u8DEF\u5F91\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/resource.md\n */\n\nexport class Resource<I extends Items> extends Event<Events> {\n    private objectUrls: string[] = []\n    private params: ResourceParams<I>\n    constructor(params: ResourceParams<I>) {\n        super()\n        this.params = params\n    }\n\n    private createObjectUrl(source: File | Blob | MediaSource) {\n        let url = URL.createObjectURL(source)\n        this.objectUrls.push(url)\n        return url\n    }\n\n    /** \u7372\u53D6\u5DF2\u7DE8\u5BEB\u597D\u6848\u4F8B\u7684 items \u8CC7\u6E90\uFF0C\u56DE\u50B3\u7684\u5B57\u4E32\u662F\u7D93\u904E url \u7DE8\u8B6F\u5F8C\u7684\u7D50\u679C */\n    get<T extends keyof I>(name: T, ...data: Parameters<I[T]>[0] extends undefined ? [] : [Parameters<I[T]>[0]]): string {\n        return this.url(this.params.items?.[name]?.(data[0]) || '')\n    }\n\n    /** \u7372\u53D6\u8CC7\u6E90 url */\n    url(source: ResourceSupport) {\n        let url = ''\n        let isObjectUrl = false\n        if (typeof source === 'string') {\n            let p = source.trim()\n            let ori = ['http', 'file', 'data:', '//']\n            for (let o of ori) {\n                if (text.headMatch(p, o)) {\n                    url = p\n                    break\n                }\n            }\n        } else if (typeof File !== 'undefined' && source instanceof File) {\n            url = this.createObjectUrl(source)\n            isObjectUrl = true\n        } else if (typeof Blob !== 'undefined' && source instanceof Blob) {\n            url = this.createObjectUrl(source)\n            isObjectUrl = true\n        } else if (typeof MediaSource !== 'undefined' && source instanceof MediaSource) {\n            url = this.createObjectUrl(source)\n            isObjectUrl = true\n        }\n        if (url.trim() === '') {\n            url = typeof source === 'string' ? this.params.def(source) : ''\n        }\n        this.emit('fetch', {\n            url,\n            source,\n            isObjectUrl\n        })\n        return url\n    }\n\n    /** \u5982\u679C\u53D6\u7528\u904E File, Blob, MediaSource \u7B49\u578B\u614B\u7684 Url\uFF0C\u9700\u8981\u91CB\u653E\u73FE\u6709\u7684\u8A18\u61B6\u9AD4\u8CC7\u6E90 */\n    release() {\n        this.objectUrls.forEach(url => URL.revokeObjectURL(url))\n        this.objectUrls = []\n    }\n\n    /** \u5C07 url \u8F49\u63DB\u6210 css style\uFF0C\u7576 mode \u70BA cover \u7684\u6642\u5019\u6703\u5354\u52A9\u52A0\u5165\u5176\u4ED6\u80CC\u666F\u5C6C\u6027  */\n    backgroundStyle(source: ResourceSupport, mode: 'basic' | 'cover' = 'basic') {\n        const ss = new StyleString()\n        ss.set('backgroundImage', `url(${this.url(source)})`)\n        if (mode === 'cover') {\n            ss.set('backgroundSize', 'cover')\n            ss.set('backgroundRepeat', 'no-repeat')\n            ss.set('backgroundPosition', 'center')\n        }\n        return ss.join()\n    }\n}\n", "import { Event } from './event'\nimport { devError } from '../base'\n\ntype Info = {\n    /** \u7A0B\u5E8F\u540D\u7A31 */\n    name: string\n    /** \u904B\u884C\u7576\u4E0B\u6642\u9593\uFF0C\u5982\u679C\u70BA null \u5247\u5C1A\u672A\u904B\u884C */\n    runningTime: number | null\n    /** \u57F7\u884C\u6B21\u6578 */\n    executedCount: number\n}\n\ntype Process = {\n    sec: number\n    now: number\n    name: string\n    executedCount: number\n    runningTime: number | null\n    handler: () => Promise<any>\n}\n\ntype Events = {\n    processFail: {\n        processName: string\n        error: any\n    }\n}\n\n/**\n * \u53EF\u4EE5\u5EFA\u7ACB\u591A\u500B\u5B9A\u6642\u57F7\u884C\u7CFB\u7D71\uFF0C\u4E14\u80FD\u4FDD\u8B49\u4E0D\u91CD\u8907\u57F7\u884C\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/schedule.md\n */\n\nexport class Schedule extends Event<Events> {\n    private int = setInterval(() => this._run(), 100)\n    private isStop = false\n    private lastTime = Date.now()\n    private processes: Process[] = []\n    private _run() {\n        if (this.isStop) {\n            return null\n        }\n        let time = Date.now()\n        let diffTime = time - this.lastTime\n        this.lastTime = time\n        for (let process of this.processes) {\n            if (process.runningTime) {\n                continue\n            }\n            process.now += diffTime\n            if (process.now >= process.sec) {\n                process.now = 0\n                process.runningTime = Date.now()\n                process.executedCount += 1\n                process\n                    .handler()\n                    .then(() => {\n                        process.runningTime = null\n                    })\n                    .catch(e => {\n                        process.runningTime = null\n                        this.emit('processFail', {\n                            processName: process.name,\n                            error: e\n                        })\n                    })\n            }\n        }\n    }\n\n    /** \u76F4\u63A5\u57F7\u884C\u6307\u5B9A\u7684\u7A0B\u5E8F\uFF0C\u5982\u679C\u8A72\u7A0B\u5E8F\u6B63\u5728\u904B\u884C\u4E2D\uFF0C\u5247\u8DF3\u904E */\n\n    run(name: string) {\n        let process = this.processes.find(e => e.name === name)\n        if (process != null && process.runningTime == null) {\n            process.now = process.sec\n            this._run()\n        }\n    }\n\n    /** \u52A0\u5165\u4E00\u500B\u7A0B\u5E8F\uFF0C\u4E0D\u80FD\u91CD\u8907\u5DF2\u5B58\u5728\u7684\u547D\u540D */\n\n    add(name: string, intervalMs: number, callback: () => Promise<any>) {\n        if (this.processes.find(e => e.name === name)) {\n            devError('add', `Name ${name} already exists.`)\n        }\n        this.processes.push({\n            sec: intervalMs,\n            now: 0,\n            name,\n            executedCount: 0,\n            runningTime: null,\n            handler: callback\n        })\n    }\n\n    /** \u9A57\u8B49\u7A0B\u5E8F\u662F\u5426\u5B58\u5728 */\n\n    has(name: string) {\n        return !!this.processes.find(e => e.name === name)\n    }\n\n    /** \u522A\u9664\u6307\u5B9A\u7684\u7A0B\u5E8F */\n\n    remove(name: string) {\n        if (this.processes.find(e => e.name === name) == null) {\n            devError('add', `Name ${name} not found.`)\n        }\n        this.processes = this.processes.filter(e => e.name !== name)\n    }\n\n    /** \u7372\u53D6\u73FE\u5728\u6240\u6709\u6B63\u5728\u904B\u4F5C\u7684\u7A0B\u5E8F */\n\n    info(): Info[] {\n        return this.processes.map(e => {\n            return {\n                name: e.name,\n                runningTime: e.runningTime,\n                executedCount: e.executedCount\n            }\n        })\n    }\n\n    /** \u66AB\u505C\u8A08\u6642\uFF0C\u6B63\u5728\u904B\u884C\u4E2D\u7684\u7A0B\u5E8F\u4E0D\u53D7\u9650\u5236 */\n\n    stop() {\n        this.isStop = true\n    }\n\n    /** \u5047\u5982\u662F\u66AB\u505C\u72C0\u614B\u53EF\u4EE5\u900F\u904E play \u7E7C\u7E8C\u8A08\u6642 */\n\n    play() {\n        this.isStop = false\n    }\n\n    /** \u95DC\u9589\u8A08\u6642\u5668 */\n\n    close() {\n        clearInterval(this.int)\n    }\n}\n", "import { Event } from './event'\nimport { Schedule } from './schedule'\n\ntype Events<S> = {\n    actionBefore: ActionContext<S>\n    actionAfter: ActionContext<S>\n}\n\ntype ActionContext<S> = {\n    state: S\n    newKey: string\n    oldKey: string | null\n}\n\ntype NextTickCallback<S> = (_state: S) => void\n\ntype ReactiveParams<S> = {\n    /** \u6BCF\u6B21\u8F2A\u8A62\u6642\u9593(\u6BEB\u79D2)\uFF0C\u9810\u8A2D 100 ms */\n    schedule?: number\n    /** \u900F\u904E\u9577\u8F2A\u8A62\u56DE\u50B3\u6307\u5B9A\u7684 key */\n    action: (_context: ActionContext<S> & { close: () => void }) => Promise<any>\n    /** \u5982\u679C observable \u56DE\u50B3\u7684 key \u6709\u6539\u52D5\u5247\u89F8\u767C */\n    observable: (_state: S) => Promise<string>\n}\n\n/**\n * \u900F\u904E\u8F2A\u8A62\u7684\u65B9\u6CD5\u76E3\u807D\u7269\u4EF6\u6709\u6C92\u6709\u767C\u751F\u8B8A\u52D5\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/reactive.md\n */\n\nexport class Reactive<S extends Record<string, any>> extends Event<Events<S>> {\n    private state!: S\n    private oldKey: string | null = null\n    private params: ReactiveParams<S>\n    private schedule = new Schedule()\n    private installed = false\n    private nextTicks: NextTickCallback<S>[] = []\n    constructor(params: ReactiveParams<S>) {\n        super()\n        this.params = params\n    }\n\n    /** \u662F\u5426\u89F8\u767C\u904E from */\n    isActive() {\n        return this.installed\n    }\n\n    /** \u95DC\u9589\u8F2A\u8A62 */\n    close() {\n        this.schedule.close()\n    }\n\n    /** \u5728\u4E0B\u4E00\u6B21\u8F2A\u8A62\u6642\u89F8\u767C */\n    nextTick(cb: NextTickCallback<S>) {\n        this.nextTicks.push(cb)\n    }\n\n    /** \u6307\u5B9A\u76E3\u807D\u5C0D\u8C61 */\n    async from(data: S) {\n        this.oldKey = null\n        this.state = data\n        this.installed = true\n        const schedule = this.params.schedule != null ? this.params.schedule : 100\n        await this.dispatch()\n        if (this.schedule.has('reactive') === false) {\n            this.schedule.add('reactive', schedule, async() => {\n                await this.dispatch()\n            })\n        }\n        return this\n    }\n\n    /** \u89F8\u767C\u9A57\u8B49\u662F\u5426\u6539\u8B8A\u4E86 key \u503C\uFF0C\u5982\u679C\u6539\u8B8A\u5247\u57F7\u884C action */\n    private async dispatch() {\n        let newKey = await this.params.observable(this.state)\n        if (newKey !== this.oldKey) {\n            await this.trigger(newKey)\n        }\n        if (this.nextTicks.length >= 1) {\n            for (let tick of this.nextTicks) {\n                tick(this.state)\n            }\n            this.nextTicks = []\n        }\n    }\n\n    /** \u57F7\u884C action */\n    private async trigger(newKey: string) {\n        const context = {\n            state: this.state,\n            newKey,\n            oldKey: this.oldKey\n        }\n        this.emit('actionBefore', context)\n        await this.params.action({\n            ...context,\n            close: () => this.close()\n        })\n        this.emit('actionAfter', context)\n        this.oldKey = newKey\n    }\n}\n", "import { Event } from './event'\n\ntype Params = {\n    /** \u7B49\u5F85\u8D85\u6642\u6642\u9593\uFF0C\u55AE\u4F4D:\u6BEB\u79D2 */\n    delay?: number\n    /** \u5982\u679C\u8D85\u904E\u9019\u500B\u6642\u9593\u5247\u7121\u8AD6\u5982\u4F55\u90FD\u89F8\u767C trigger\uFF0C\u55AE\u4F4D:\u6BEB\u79D2 */\n    totalDuration?: number\n    /** \u5B58\u53D6\u8CC7\u6599\u8D85\u904E\u6307\u5B9A\u9577\u5EA6\u6642\u89F8\u767C */\n    maxValueLength?: number\n}\n\ntype Channels<T> = {\n    input: {\n        value: T\n    }\n    trigger: {\n        values: T[]\n    }\n}\n\nclass DebounceUnit extends Event<Channels<any> & { close: Record<string, unknown> }> {\n    isDone = false\n    params: Params\n    values: any[] = []\n    duration: number\n    totalDuration: number\n    constructor(params: Params) {\n        super()\n        this.params = params\n        this.duration = params.delay == null ? -1 : params.delay\n        this.totalDuration = params.totalDuration == null ? -1 : params.totalDuration\n        this.loop()\n    }\n\n    loop() {\n        if (this.isDone) {\n            return null\n        }\n        if (this.duration === 0) {\n            return this.trigger()\n        }\n        if (this.totalDuration === 0) {\n            return this.trigger()\n        }\n        if (this.params.maxValueLength != null && this.params.maxValueLength <= this.values.length) {\n            return this.trigger()\n        }\n        this.duration -= 1\n        this.totalDuration -= 1\n        setTimeout(() => this.loop(), 1)\n    }\n\n    input(value: any) {\n        this.values.push(value)\n        this.duration = this.params.delay == null ? -1 : this.params.delay\n    }\n\n    trigger() {\n        if (this.isDone === false) {\n            this.close()\n            this.emit('trigger', {\n                values: this.values\n            })\n        }\n    }\n\n    close() {\n        if (this.isDone === false) {\n            this.isDone = true\n            this.emit('close', {})\n        }\n    }\n}\n\n/**\n * \u53BB\u6296\u52D5\u529F\u80FD\uFF0C\u7576\u89F8\u767C\u4E8B\u4EF6\u5F8C\u6703\u641C\u96C6\u7D50\u679C\u4E26\u5EF6\u9072\u4E8B\u4EF6\u767C\u751F\uFF0C\u907F\u514D\u983B\u7E41\u767C\u51FA\u8ACB\u6C42\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/debounce.md\n */\n\nexport class Debounce<T> extends Event<Channels<T>> {\n    private unit: DebounceUnit | null = null\n    private params: Params\n    constructor(params: Params) {\n        super()\n        this.params = params\n    }\n\n    /** \u52A0\u5165\u4E00\u7D44\u503C\uFF0C\u4E26\u4E14 delay \u91CD\u65B0\u8A08\u7B97 */\n    input(value: T) {\n        if (this.unit == null) {\n            this.unit = new DebounceUnit(this.params)\n            this.unit.on('trigger', ({ values }) => this.emit('trigger', { values }))\n            this.unit.on('close', () => this.close())\n        }\n        this.unit.input(value)\n        this.emit('input', { value })\n    }\n\n    /** \u4E0D\u9808\u7B49\u5F85\u76F4\u63A5\u89F8\u767C\u4E8B\u4EF6 */\n    trigger() {\n        if (this.unit) {\n            this.unit.trigger()\n        } else {\n            this.emit('trigger', {\n                values: []\n            })\n        }\n    }\n\n    /** \u7D42\u6B62\u73FE\u5728\u6B63\u5728\u904B\u884C\u7684 input */\n    close() {\n        if (this.unit) {\n            this.unit.close()\n            this.unit = null\n        }\n    }\n}\n", "import { Event } from './event'\n\ntype Job = {\n    name: string\n    handler: () => Promise<any>\n}\n\ntype Events = {\n    allDone: Record<string, unknown>\n    error: {\n        name: string\n        error: any\n    }\n}\n\ntype Params = {\n    autoPlay?: boolean\n    concurrentExecutions: number\n}\n\n/**\n * \u6709\u9650\u7684\u6279\u6B21\u57F7\u884C\u4F5C\u696D\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/jobs-queue.md\n */\n\nexport class JobsQueue extends Event<Events> {\n    private jobs: Job[] = []\n    private closed = false\n    private params: Params\n    private isStop = false\n    private runningCount = 0\n    constructor(params: Params) {\n        super()\n        this.params = params\n        if (this.params.autoPlay === false) {\n            this.isStop = true\n        }\n    }\n\n    /** \u73FE\u6709\u7684 jobs \u9577\u5EA6 */\n\n    get size() {\n        return this.jobs.length + this.runningCount\n    }\n\n    private run() {\n        if (this.isStop) {\n            return null\n        }\n        if (this.closed) {\n            return null\n        }\n        if (this.params.concurrentExecutions && this.runningCount >= this.params.concurrentExecutions) {\n            return null\n        }\n        let job = this.jobs.shift()\n        if (job) {\n            this.runningCount += 1\n            job.handler()\n                .catch(e => {\n                    this.emit('error', {\n                        name: job?.name || '',\n                        error: e\n                    })\n                })\n                .finally(() => {\n                    this.less()\n                    this.run()\n                })\n        }\n    }\n\n    private less() {\n        this.runningCount -= 1\n        if (this.runningCount <= 0) {\n            this.runningCount = 0\n        }\n        if (this.size === 0) {\n            this.emit('allDone', {})\n        }\n    }\n\n    get isStoped() {\n        return this.isStop\n    }\n\n    /** \u5C07\u4E00\u7D44 job \u65B0\u589E\u81F3 queue \u672B\u7AEF */\n\n    push(name: string, handler: Job['handler']) {\n        if (this.closed === false) {\n            this.jobs.push({ name, handler })\n            this.run()\n        }\n    }\n\n    /** \u66AB\u505C queue */\n\n    stop() {\n        this.isStop = true\n    }\n\n    /** \u6062\u5FA9 queue */\n\n    play() {\n        if (this.isStop) {\n            this.isStop = false\n            this.run()\n        }\n    }\n\n    /** \u5C07\u4E00\u7D44 job \u65B0\u589E\u81F3 queue \u672B\u7AEF\uFF0C\u540C\u6642\u56DE\u61C9\u4E00\u7D44 promise \u53EF\u4EE5\u7B49\u5F85\u76F4\u5230\u8A72\u4EFB\u52D9\u5B8C\u6210\u70BA\u6B62\u3002 */\n\n    pushAndWait(name: string, handler: Job['handler']): Promise<null> {\n        return new Promise((resolve, reject) => {\n            if (this.closed) {\n                return resolve(null)\n            }\n            this.jobs.push({\n                name,\n                handler: async () => {\n                    try {\n                        await handler()\n                        resolve(null)\n                    } catch (e) {\n                        reject(e)\n                    }\n                }\n            })\n            this.run()\n        })\n    }\n\n    /** \u5C07\u4E00\u7D44 job \u65B0\u589E\u81F3\u6700\u512A\u5148\u7D1A */\n\n    unshift(name: string, handler: Job['handler']) {\n        if (this.closed === false) {\n            this.jobs.unshift({ name, handler })\n            this.run()\n        }\n    }\n\n    /** \u6E05\u7A7A\u73FE\u6709\u7684 jobs */\n\n    clear() {\n        this.jobs = []\n    }\n\n    /** \u95DC\u9589\u9019\u7D44 queue \uFF0C\u5C07\u7121\u6548\u5316 push, unshift\uFF0C\u4E14\u6E05\u7A7A\u73FE\u6709\u7684 jobs */\n\n    close() {\n        this.clear()\n        this.closed = true\n    }\n}\n", "type Intercept = {\n    Set: (_name: string, _data: any) => any\n    Get: (_name: string, _data: any, _context: {\n        /** Storage */\n        storage: LocalStorage<any>\n        /** \u662F\u5426\u662F\u63A1\u7528\u9810\u8A2D\u503C */\n        isDefault: boolean\n        /** \u7372\u53D6\u9810\u8A2D\u503C */\n        defaultValue: () => any\n    }) => any\n}\n\ntype CusStorage = {\n    readonly length: number\n    keys?: () => string[]\n    getItem(key: string): string | null\n    setItem(key: string, value: string): void\n    removeItem(key: string): void\n}\n\n/**\n * \u5354\u52A9\u4F60\u5728\u8907\u96DC\u7684\u7DB2\u9801\u61C9\u7528\u7A0B\u5F0F\u4E2D\u66F4\u5B89\u5168\u7684\u64CD\u4F5C LocalStorage\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/local-storage.md\n */\n\nexport class LocalStorage<T extends Record<string, any>> {\n    private options?: {\n        storageSystem?: CusStorage\n        defaultColumns?: Partial<{ [K in keyof T]: () => T[K] }>\n        intercept?: {\n            get?: Intercept['Get']\n            set?: Intercept['Set']\n        }\n    }\n\n    private storage: CusStorage\n    private namespaces: string\n    private interceptGet: Intercept['Get'] | null = null\n    private interceptSet: Intercept['Set'] | null = null\n    constructor(namespaces: string, options?: {\n        /** \u6307\u5B9A\u904B\u884C\u7684 LocalStorage \u74B0\u5883\uFF0C\u5047\u5982\u4F60\u60F3\u61C9\u7528\u5728 SessionStorage \u4E0A\u5FC5\u9808\u8A2D\u5B9A\u6B64\u53C3\u6578 */\n        storageSystem?: CusStorage\n        /** \u5047\u5982\u8A72\u6B04\u4F4D\u5C1A\u672A\u5BEB\u5165\u6642\u7D66\u4E88\u9810\u8A2D\u503C */\n        defaultColumns?: Partial<{ [K in keyof T]: () => T[K] }>\n        /** \u6514\u622A\u76F8\u95DC get set \u8A2D\u5B9A */\n        intercept?: {\n            /** \u6514\u622A\u8CC7\u6599\u7372\u53D6 */\n            get?: Intercept['Get']\n            /** \u6514\u622A\u8CC7\u6599\u8A2D\u5B9A */\n            set?: Intercept['Set']\n        }\n    }) {\n        this.options = options\n        this.storage = (typeof window === 'undefined' ? null : window.localStorage)!\n        this.namespaces = namespaces\n        if (options) {\n            if (options.storageSystem) {\n                this.storage = options.storageSystem\n            }\n            if (options.intercept) {\n                if (options.intercept.get) {\n                    this.interceptGet = options.intercept.get.bind(this)\n                }\n                if (options.intercept.set) {\n                    this.interceptSet = options.intercept.set.bind(this)\n                }\n            }\n        }\n    }\n\n    /** \u7372\u5F97\u540D\u7A31\u5B8C\u6574\u7684\u9375\u503C */\n\n    toKey(name: string | number | symbol) {\n        return `_power_${this.namespaces}/${name.toString()}`\n    }\n\n    /** \u8A2D\u5B9A\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    set<K extends keyof T>(name: K, data: T[K] | ((_value: T[K]) => T[K])) {\n        let saveData = typeof data === 'function' ? (data as any)(this.get(name)) : data\n        if (this.interceptSet) {\n            saveData = this.interceptSet(name as any, saveData as any)\n        }\n        this.storage.setItem(this.toKey(name), JSON.stringify(saveData))\n    }\n\n    /** \u7372\u53D6\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    get<K extends keyof T>(name: K): T[K] {\n        let result = null\n        let options = this.options\n        let isDefault = false\n        let defaultValue = () => null\n        if (options && options.defaultColumns && options.defaultColumns[name]) {\n            defaultValue = options.defaultColumns[name] as any\n        }\n        let data = this.storage.getItem(this.toKey(name))\n        if (data == null) {\n            data = defaultValue()\n            isDefault = true\n        }\n        result = isDefault ? data : (data != null ? JSON.parse(data) : null)\n        if (this.interceptGet) {\n            result = this.interceptGet(name as any, result, {\n                storage: this,\n                isDefault,\n                defaultValue\n            })\n        }\n        return result\n    }\n\n    /** \u522A\u9664\u6574\u500B namespaces \u7684\u8CC7\u6599 */\n\n    clear() {\n        let name = `_power_${this.namespaces}/`\n        let items = this.storage.keys ? this.storage.keys() : Object.keys(this.storage)\n        for (let key of items) {\n            if (key.length >= name.length && key.slice(0, name.length) === name) {\n                this.remove(key.slice(name.length))\n            }\n        }\n    }\n\n    /** \u522A\u9664\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    remove<K extends keyof T>(name: K) {\n        this.storage.removeItem(this.toKey(name))\n    }\n}\n", "type QueryCollectionParams<T, R> = {\n    /** \u767C\u51FA\u8ACB\u6C42\u524D\u8490\u96C6\u8CC7\u6599\u7684\u6642\u9593\uFF0C\u55AE\u4F4D: \u6BEB\u79D2 */\n    waitTime: number\n    /** \u8ACB\u6C42\u65B9\u6CD5 */\n    query: (_collection: T[]) => Promise<R[]>\n}\n\n/**\n * \u53EF\u4EE5\u8490\u96C6\u8CC7\u6599\u4E26\u7D71\u4E00\u767C\u51FA\u8ACB\u6C42\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/query-collection.md\n */\n\nexport class QueryCollection<T, R> {\n    private params: QueryCollectionParams<T, R>\n    private timeout: ReturnType<typeof setTimeout> | null = null\n    private collection: {\n        data: T\n        resolve: any\n        reject: any\n    }[] = []\n\n    constructor(params: QueryCollectionParams<T, R>) {\n        this.params = params\n    }\n\n    /**\n     * \u63A8\u9001\u4E00\u7B46\u8CC7\u6599\u9032\u641C\u96C6\u5668\n     */\n\n    push(data: T): Promise<R[]> {\n        return new Promise((resolve, reject) => {\n            this.collection.push({\n                data,\n                resolve,\n                reject\n            })\n            if (this.timeout == null) {\n                this.timeout = setTimeout(async() => {\n                    let collection = this.collection.slice()\n                    this.timeout = null\n                    this.collection = []\n                    try {\n                        let result = await this.params.query(collection.map(e => e.data))\n                        collection.forEach(e => e.resolve(result))\n                    } catch (error) {\n                        collection.forEach(e => e.reject(error))\n                    }\n                }, this.params.waitTime)\n            }\n        })\n    }\n}\n", "import { flow } from '../utils/flow'\n\ntype EventMap<T extends MediaDevices | Element | Document | Window | Worker> =\n    T extends Window ? WindowEventMap :\n        T extends Document ? DocumentEventMap :\n            T extends SVGAElement ? SVGElementEventMap :\n                T extends HTMLMediaElement ? HTMLMediaElementEventMap :\n                    T extends HTMLBodyElement ? HTMLBodyElementEventMap :\n                        T extends HTMLElement ? HTMLElementEventMap :\n                            T extends MediaDevices ? MediaDevicesEventMap :\n                                T extends Worker ? WorkerEventMap : ElementEventMap\n\n/**\n * \u5C07 element \u7684 addEventListener \u6607\u83EF\u5230\u66F4\u597D\u64CD\u4F5C\u7684\u968E\u6BB5\u3002\n * @BrowserOnly\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/element-listener-group.md\n */\n\nexport class ElementListenerGroup<T extends Element | Document | Window | Worker | MediaDevices> {\n    private elements: T[] = []\n    private listeners = new Map<string, {\n        name: string\n        callback: (...args: any[]) => void\n        options?: any\n    }>()\n\n    constructor(element?: T) {\n        if (element) {\n            this.elements.push(element)\n        }\n    }\n\n    /** \u52A0\u5165\u4E00\u500B\u65B0\u7684\u76E3\u807D\u5C0D\u8C61 */\n\n    observe(element: T) {\n        this.elements.push(element)\n        for (let listener of this.listeners.values()) {\n            element.addEventListener(listener.name, listener.callback, listener.options)\n        }\n    }\n\n    /** \u79FB\u9664\u4E00\u500B\u76E3\u807D\u5143\u7D20 */\n\n    unObserve(element: T) {\n        if (this.elements.find(e => e === element) == null) {\n            return\n        }\n        this.elements = this.elements.filter(e => e !== element)\n        for (let listener of this.listeners.values()) {\n            element.removeEventListener(listener.name, listener.callback)\n        }\n    }\n\n    /** \u79FB\u9664\u6307\u5B9A ID \u7684\u76E3\u807D */\n\n    off(listenerId: string) {\n        let listener = this.listeners.get(listenerId)\n        if (listener) {\n            this.listeners.delete(listenerId)\n            for (let element of this.elements) {\n                element.removeEventListener(listener.name, listener.callback)\n            }\n        }\n    }\n\n    /** \u52A0\u5165\u4E00\u500B\u76E3\u807D\u7684\u9805\u76EE */\n\n    add<K extends keyof EventMap<T>>(name: K, callback: (event: EventMap<T>[K]) => void, options?: any) {\n        const id = flow.createUuid()\n        const data = {\n            name: name as string,\n            options,\n            callback: callback as any\n        }\n        this.listeners.set(id, data)\n        this.elements.forEach(e => e.addEventListener(data.name, data.callback, options))\n        return {\n            id,\n            off: () => this.off(id)\n        }\n    }\n\n    /** \u6E05\u7A7A\u73FE\u5728\u76E3\u807D\u7684\u9805\u76EE */\n\n    clear() {\n        for (let id of this.listeners.keys()) {\n            this.off(id)\n        }\n    }\n\n    /** \u6E05\u7A7A\u6240\u6709\u76E3\u807D\u5143\u7D20 */\n\n    clearElements() {\n        for (let listener of this.listeners.values()) {\n            for (let element of this.elements) {\n                element.removeEventListener(listener.name, listener.callback)\n            }\n        }\n        this.elements = []\n    }\n}\n", "import { Event } from './event'\n\ntype Pub = Record<string, any>\n\ntype FailTypes = 'unknown' | 'send' | 'message'\n\ntype Events = {\n    /** \u6210\u529F\u9023\u63A5\u4F3A\u670D\u5668\u6642\u89F8\u767C\u3002 */\n    $open: any\n    /** \u9023\u63A5\u5931\u6557\u7B49\u72C0\u614B\u7B49\u89F8\u767C\u3002 */\n    $error: {\n        from: FailTypes\n        error: any\n    }\n    /** \u9023\u63A5\u95DC\u9589\u6642\u89F8\u767C\uFF0C\u53EF\u4EE5\u900F\u904E isManuallyClosed \u5F97\u77E5\u662F\u5426\u9700\u8981\u91CD\u9023\u3002 */\n    $close: {\n        isManuallyClosed: boolean\n    }\n}\n\ntype WebSocketParams<P extends Pub> = {\n    /** \u9023\u7DDA\u7DB2\u5740 */\n    url: () => string | Promise<string>\n    /** \u6307\u5B9A\u904B\u884C\u7684 WebSocket \u74B0\u5883\uFF0C\u5047\u5982\u4F60\u60F3\u61C9\u7528\u5728 NodeJs \u4E0A\u5FC5\u9808\u8A2D\u5B9A\u6B64\u53C3\u6578 */\n    system?: typeof WebSocket\n    /** \u6307\u5B9A\u904B\u884C\u7684 WebSocket Protocol */\n    protocol?: string[]\n    /** \u63A5\u6536\u5230\u8CC7\u6599\u8981\u57F7\u884C\u4EC0\u9EBC\u4E8B */\n    onMessage: (_event: MessageEvent) => Promise<any>\n    /** \u767C\u9001\u8CC7\u6599\u524D\u9032\u884C\u8CC7\u6599\u8F49\u63DB */\n    sendHandler: <K extends keyof P>(_channel: K, _data: P[K]) => Promise<any>\n}\n\n/**\n * \u5177\u6709\u91CD\u65B0\u9023\u7DDA\u8207\u983B\u9053\u6A21\u5F0F\u7684 WebSocket \u6A21\u584A\uFF0C\u4F60\u53EF\u4EE5\u900F\u904E onMessage \u76E3\u807D\u4F3A\u670D\u5668\u65B9\u7684\u8A0A\u606F\uFF0C\u4E26\u900F\u904E event system \u767C\u9001\u7D66\u5176\u4ED6\u76E3\u807D\u5C0D\u8C61\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/websocket.md\n */\n\nexport class WebSocketClient<P extends Pub, S> extends Event<S & Events> {\n    _websocket?: WebSocket\n    private params: WebSocketParams<P>\n    private isManuallyClosed = false\n\n    constructor(params: WebSocketParams<P>) {\n        super()\n        this.params = params\n    }\n\n    private fail(from: FailTypes, error: any) {\n        this.emit('$error', {\n            from,\n            error\n        } as any)\n    }\n\n    private get connected() {\n        return !!this._websocket\n    }\n\n    private createWebsocket(url: string) {\n        if (this.connected) {\n            console.warn(`Websocket ${url} already connected.`)\n        }\n        let opened = false\n        let System = this.params.system ? this.params.system : WebSocket\n        return new Promise((resolve, reject) => {\n            this._websocket = new System(url, this.params.protocol)\n            this._websocket.onopen = () => {\n                opened = true\n                this.emit('$open', {})\n                resolve(null)\n            }\n            this._websocket.onerror = (error) => {\n                if (opened === false) {\n                    reject(error)\n                } else {\n                    this.fail('unknown', error)\n                }\n            }\n            this._websocket.onmessage = async(event) => {\n                try {\n                    await this.params.onMessage(event)\n                } catch (error) {\n                    this.fail('message', error)\n                }\n            }\n            this._websocket.onclose = () => {\n                let data: any = {\n                    isManuallyClosed: this.isManuallyClosed\n                }\n                this._websocket = undefined\n                this.emit('$close', data)\n                this.isManuallyClosed = false\n            }\n        })\n    }\n\n    /* \u73FE\u5728\u7684\u9023\u7DDA\u72C0\u614B */\n    getStatus() {\n        if (this.connected === false) {\n            return 'wait'\n        }\n        if (this._websocket?.readyState === 0) {\n            return 'connecting'\n        }\n        if (this._websocket?.readyState === 1) {\n            return 'open'\n        }\n        if (this._websocket?.readyState === 2) {\n            return 'closeing'\n        }\n        if (this._websocket?.readyState === 3) {\n            return 'closed'\n        }\n    }\n\n    /* \u767C\u9001\u8CC7\u6599\u81F3\u4F3A\u670D\u5668 */\n    async send<K extends keyof P>(channel: K, data: P[K]) {\n        try {\n            let record = await this.params.sendHandler(channel, data)\n            if (this.connected) {\n                this._websocket?.send(record)\n            } else {\n                console.warn(`Socket not connected, from send ${channel as string}.`)\n            }\n        } catch (error) {\n            this.fail('send', error)\n        }\n    }\n\n    /* \u9023\u63A5\u81F3\u4F3A\u670D\u5668 */\n    async connect() {\n        let url = await this.params.url()\n        let websocket = await this.createWebsocket(url)\n        return websocket\n    }\n\n    /* \u65B7\u958B\u4F3A\u670D\u5668\u9023\u7DDA */\n    disconnect() {\n        if (this.connected) {\n            this.isManuallyClosed = true\n            this._websocket?.close()\n        } else {\n            console.warn('Socket not connected, from disconnect.')\n        }\n    }\n}\n", "type Pick = 'first' | 'last'\n\ntype Options = {\n    delay?: number\n}\n\ntype Process = {\n    data: any\n    closed: boolean\n    isError: boolean\n    resolve: any\n    reject: any\n}\n\n/**\n * \u72C0\u614B\u7BA1\u7406\u7684\u60C5\u5883\u4E0B\uFF0C\u4F4D\u65BC\u70BA\u67D0\u7A2E\u60C5\u5883\u5C0E\u81F4\u820A\u8ACB\u6C42\u9084\u6C92\u6210\u529F\u5C31\u767C\u9001\u65B0\u7684\u8ACB\u6C42\uFF0C\u5728\u95DC\u806F\u6548\u80FD\u6709\u5DEE\u7570\u7684\u60C5\u5F62\u4E0B\uFF0C\u53EF\u80FD\u6703\u767C\u751F\u65B0\u8ACB\u6C42\u6BD4\u820A\u8ACB\u6C42\u9084\u65E9\u63A5\u53D7 commit \u8CC7\u6599\uFF0C\u9020\u6210\u72C0\u614B\u986F\u793A\u4E0D\u5C0D\uFF0CPromise Overlap \u80FD\u5920\u63A7\u5236\u540C\u4E00\u7A2E\u60C5\u5883\u4E0B\u6307\u7372\u53D6\u7B2C\u4E00\u6B21\u6216\u662F\u6700\u5F8C\u4E00\u6B21\u7684\u7D50\u679C\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/promise-overlap.md\n */\n\nexport class PromiseOverlap<T> {\n    private pick: Pick\n    private options: Options\n    private processes: Process[] = []\n\n    constructor(pick: Pick, options: Options = {}) {\n        this.pick = pick\n        this.options = options\n    }\n\n    /** \u57F7\u884C\u76EE\u6A19 promise */\n    run(cb: () => Promise<T>): Promise<T> {\n        let obj: Process = {\n            data: null,\n            closed: false,\n            reject: null,\n            resolve: null,\n            isError: false\n        }\n        let finallyHandler = (data: any, isError: boolean) => {\n            obj.data = data\n            obj.closed = true\n            obj.isError = isError\n            let isAllClose = this.processes.filter(e => !e.closed).length === 0\n            if (isAllClose) {\n                let result\n                if (this.pick === 'first') {\n                    result = this.processes[0]\n                } else {\n                    result = this.processes[this.processes.length - 1]\n                }\n                for (let process of this.processes) {\n                    if (result.isError) {\n                        process.reject(result.data)\n                    } else {\n                        process.resolve(result.data)\n                    }\n                }\n                this.processes = []\n            }\n        }\n        this.processes.push(obj)\n        return new Promise((resolve, reject) => {\n            obj.reject = reject\n            obj.resolve = resolve\n            setTimeout(() => {\n                cb().then(data => finallyHandler(data, false))\n                    .catch(error => finallyHandler(error, true))\n            }, this.options.delay || 10)\n        })\n    }\n}\n", "type Context<T> = {\n    key: string\n    value: T\n}\n\ntype Params<T> = {\n    ttl: number\n    maxSize?: number\n    intercept?: {\n        set?: (_context: Context<T>) => Context<T>\n    }\n}\n\n/**\n * \u6307\u5B9A\u9375\u503C\u4E26\u540C\u6B65\u7684\u5B58\u53D6\uFF0C\u975E\u5E38\u8FD1\u4F3C Map \u7269\u4EF6\uFF0C\u4F46\u662F\u6709 TTL(Time To Live)\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/cache-lite.md\n */\n\nexport class CacheLite<T> {\n    private params: Params<T>\n    private lastUpdate = Date.now()\n    private keyMap = new Map<string, {\n        data: T\n        time: number\n    }>()\n\n    constructor(params: Params<T>) {\n        this.params = params\n    }\n\n    private gc() {\n        let now = Date.now()\n        if (now > this.lastUpdate + this.params.ttl) {\n            for (let [key, value] of this.keyMap.entries()) {\n                if ((value.time + this.params.ttl) < now) {\n                    this.keyMap.delete(key)\n                }\n            }\n            this.lastUpdate = now\n        }\n    }\n\n    /**\n     * \u7372\u53D6\u76EE\u524D Cache \u7684\u91CF\n     */\n\n    get size() {\n        return this.keyMap.size\n    }\n\n    /**\n     * \u6E05\u9664 cache\n     */\n\n    clear() {\n        this.keyMap.clear()\n    }\n\n    /**\n     * \u7372\u53D6\u76EE\u6A19\n     */\n\n    get(key: string): undefined | T {\n        this.gc()\n        return this.keyMap.get(key)?.data\n    }\n\n    /**\n     * \u8A2D\u5B9A\u76EE\u6A19\n     */\n\n    set(key: string, value: T): T {\n        const context = { key, value }\n        const result = this.params.intercept?.set ? this.params.intercept?.set(context) : context\n        this.gc()\n        this.keyMap.set(result.key, {\n            data: result.value,\n            time: Date.now()\n        })\n        if (this.params.maxSize && this.keyMap.size > this.params.maxSize) {\n            let firstKey = Array.from(this.keyMap.keys())[0]\n            if (firstKey != null) {\n                this.keyMap.delete(firstKey)\n            }\n        }\n        return result.value\n    }\n\n    /**\n     * \u6709\u7121\u76EE\u6A19\n     */\n\n    has(key: string) {\n        this.gc()\n        return this.keyMap.has(key)\n    }\n\n    /**\n     * \u522A\u9664\u76EE\u6A19\n     */\n\n    remove(key: string) {\n        this.gc()\n        if (this.keyMap.has(key)) {\n            this.keyMap.delete(key)\n        }\n    }\n\n    /**\n     * \u7372\u53D6\u9375\u7D44\n     */\n\n    keys() {\n        this.gc()\n        return [...this.keyMap.keys()]\n    }\n    /**\n     * \u7372\u53D6\u503C\u7D44\n     */\n\n    values() {\n        this.gc()\n        return [...this.keyMap.values()].map(e => e.data)\n    }\n}\n", "type Breakpoints = 'xs' | 'sm' | 'md' | 'lg' | 'xl'\n\ntype BreakpointsRange = `${Breakpoints}-${'only' | 'and-up' | 'and-down'}`\n\ntype BreakpointsRecord = Record<Breakpoints, {\n    min: number\n    max: number\n}>\n\ntype Params = {\n    points: BreakpointsRecord\n    defCheckValue: () => number\n}\n\n/**\n * \u756B\u9762\u65B7\u9EDE\u9A57\u8B49\u5DE5\u5177\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/breakpoint.md\n */\n\nexport class Breakpoint {\n    private params: Params\n\n    constructor(params: Params) {\n        this.params = params\n    }\n\n    /**\n     * \u57FA\u65BC bootstrap 5 \u7684\u65B7\u9EDE\u97FF\u61C9\u8A2D\u5B9A\n     */\n\n    static get bootstrapBreakpoints(): BreakpointsRecord {\n        return {\n            xs: {\n                min: Infinity * -1,\n                max: 575\n            },\n            sm: {\n                min: 576,\n                max: 767\n            },\n            md: {\n                min: 768,\n                max: 991\n            },\n            lg: {\n                min: 992,\n                max: 1119\n            },\n            xl: {\n                min: 1200,\n                max: Infinity\n            }\n        }\n    }\n\n    /**\n     * \u57FA\u65BC vuetify 2 \u7684\u65B7\u9EDE\u97FF\u61C9\u8A2D\u5B9A\n     */\n\n    static get vuetifyBreakpoints(): BreakpointsRecord {\n        return {\n            xs: {\n                min: Infinity * -1,\n                max: 599\n            },\n            sm: {\n                min: 600,\n                max: 959\n            },\n            md: {\n                min: 960,\n                max: 1263\n            },\n            lg: {\n                min: 1264,\n                max: 1903\n            },\n            xl: {\n                min: 1904,\n                max: Infinity\n            }\n        }\n    }\n\n    /**\n     * \u7372\u53D6\u7B26\u5408\u7684\u65B7\u9EDE\u5217\u8868\n     */\n\n    matchs(width = this.params.defCheckValue()) {\n        let matchs: BreakpointsRange[] = []\n        for (let _name in this.params.points) {\n            let name = _name as Breakpoints\n            let { min, max } = this.params.points[name]\n            if (width >= min && width <= max) {\n                matchs.push(`${name}-only`)\n            }\n            if (width >= min) {\n                matchs.push(`${name}-and-up`)\n            }\n            if (width <= max) {\n                matchs.push(`${name}-and-down`)\n            }\n        }\n        return matchs\n    }\n\n    /**\n     * \u73FE\u5728\u4F4D\u65BC\u54EA\u500B\u65B7\u9EDE\n     */\n\n    is(width = this.params.defCheckValue()): Breakpoints {\n        let ranks: Breakpoints[] = ['xl', 'lg', 'md', 'sm', 'xs']\n        let matchs = this.matchs(width)\n        for (let rank of ranks) {\n            if (matchs.includes(`${rank}-only`)) {\n                return rank as Breakpoints\n            }\n        }\n        return 'xs'\n    }\n\n    /**\n     * \u662F\u5426\u5728\u6307\u5B9A\u65B7\u9EDE\u5167\n     */\n\n    in(breakpoint: BreakpointsRange, width = this.params.defCheckValue()) {\n        return this.matchs(width).includes(breakpoint)\n    }\n}\n", "import { Event } from './event'\n\ntype Events = {\n    fail: {\n        error: any\n        message: string\n    }\n}\n\ntype Options = {\n    defaultError: () => string\n    parseMessage: (error: any) => string | null\n}\n\n/**\n * \u9AD8\u968E\u7684\u932F\u8AA4\u8A0A\u606F\u8655\u7406\u5DE5\u5177\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/exception.md\n */\n\nexport class Exception extends Event<Events> {\n    private serviceName: string\n    private parent: Exception | null = null\n    private options: Options = {\n        defaultError: () => 'Error!',\n        parseMessage: (error) => error\n    }\n\n    constructor(serviceName: string, options?: Partial<Options>) {\n        super()\n        this.serviceName = serviceName\n        if (options) {\n            Object.assign(this.options, options)\n        }\n    }\n\n    static get basicMessageParser() {\n        return (data: any): string | null => {\n            if (typeof data === 'string') {\n                return data\n            }\n            if (data.name === 'AxiosError') {\n                if (data.response?.data && typeof data.response?.data === 'string') {\n                    return data.response.data\n                }\n                if (data.response?.data?.message && typeof data.response?.data?.message === 'string') {\n                    return data.response?.data?.message\n                }\n                if (data.response?.data?.error && typeof data.response?.data?.error === 'string') {\n                    return data.response?.data?.error\n                }\n            }\n            let message = data.message\n            if (message) {\n                if (typeof message === 'string') {\n                    return message\n                }\n            }\n            return null\n        }\n    }\n\n    protected _setParent(serviceException: Exception) {\n        this.parent = serviceException\n    }\n\n    protected _getParents(): Exception[] {\n        return this.parent == null ? [] : [this.parent, ...this.parent._getParents()]\n    }\n\n    private get fullName(): string {\n        return this.parent == null ? this.serviceName : `${this.parent.fullName}/${this.serviceName}`\n    }\n\n    /** \u89E3\u6790\u932F\u8AA4\u8A0A\u606F */\n\n    parseMessage(data: any): string {\n        let message = this.options.parseMessage(data)\n        if (message) {\n            return message\n        } else {\n            return this.options.defaultError()\n        }\n    }\n\n    /** \u5EFA\u7ACB\u4E00\u500B Error */\n\n    create(error: any) {\n        const message = this.parseMessage(error)\n        const fail = {\n            error,\n            message\n        }\n        this._getParents().concat([this]).forEach(e => e.emit('fail', fail))\n        return new Error(`${this.fullName}: ${message}`)\n    }\n\n    /** \u5207\u51FA\u4E00\u500B exception\uFF0C\u6709\u5229\u65BC\u4E0A\u4E0B\u6587\u8FFD\u8E64 */\n\n    checkout(childName: string) {\n        let child = new Exception(childName, this.options)\n        child._setParent(this)\n        return child\n    }\n}\n", "import { Event } from './event'\nimport { DeepReadonly } from '../types/record'\n\ntype StepTypes = 'step' | 'wrong' | 'notify' | 'fail'\ntype StepLevel = 'info' | 'warning' | 'danger' | 'success'\n\ntype Step = {\n    type: StepTypes\n    meta?: any\n    level: StepLevel\n    message: string\n    createdAt: number\n    checkoutAt: string\n}\n\ntype PushParams = {\n    type: StepTypes\n    meta?: any\n    level: StepLevel\n    message: string\n    checkoutAt: string\n}\n\ntype Events = {\n    action: Step\n}\n\ntype Params = {\n    name: string\n    stepMaxSize?: number\n    interceptorMessage?: (_data: any) => string\n}\n\n/**\n * \u5EFA\u7ACB\u53EF\u76E3\u807D\u3001\u8FFD\u8E64\u3001\u53EF\u642D\u914D\u8996\u5716\u5316\u7684\u8A0A\u606F\u6574\u5408\u5DE5\u5177\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/interaction.md\n */\n\nexport class Interaction extends Event<Events> {\n    protected name: string\n    protected steps: Step[] = []\n    protected parent?: Interaction\n    protected stepMaxSize = 100\n    protected interceptorMessage: NonNullable<Params['interceptorMessage']>\n    constructor({ name, interceptorMessage, stepMaxSize }: Params) {\n        super()\n        this.name = name\n        this.interceptorMessage = interceptorMessage || ((data) => data)\n        this.stepMaxSize = stepMaxSize || 100\n    }\n\n    get fullName(): string {\n        return this.parent ? `${this.parent.fullName}/${this.name}` : this.name\n    }\n\n    private pushStep(params: PushParams) {\n        if (this.parent) {\n            this.parent.pushStep(params)\n        } else {\n            if (this.steps.length >= this.stepMaxSize) {\n                this.steps.shift()\n            }\n            const step: Step = {\n                ...params,\n                message: this.interceptorMessage(params.message),\n                createdAt: Date.now()\n            }\n            this.steps.push(step)\n            this.emit('action', step as DeepReadonly<Step>)\n        }\n    }\n\n    /** \u7372\u53D6\u53EF\u898B\u5F97\u6D41\u7A0B\u6587\u5B57 */\n\n    getFlowText(visible = 2) {\n        return this.steps.slice(visible * -1).map(e => e.message).join('->')\n    }\n\n    /**\n     * \u8FED\u4EE3\u6BCF\u500B\u968E\u6BB5\u8A0A\u606F\n     */\n\n    each(cb: (_step: Step, _index: number) => void) {\n        this.steps.forEach(cb)\n    }\n\n    /**\n     * \u589E\u52A0\u4E00\u500B\u968E\u6BB5\u8A0A\u606F\n     */\n\n    step(message: string, meta?: any) {\n        this.pushStep({\n            meta,\n            type: 'step',\n            level: 'info',\n            message: message,\n            checkoutAt: this.fullName\n        })\n    }\n\n    /**\n     * \u767C\u51FA\u932F\u8AA4\u7684\u8A0A\u606F\uFF0C\u4E26\u56DE\u50B3\u4E00\u7D44\u932F\u8AA4\uFF0C\u5982\u679C\u6C92\u6709\u50B3\u5165\u7B2C\u4E8C\u500B\u53C3\u6578\u5247\u4EE5 message \u64F2\u51FA\u3002\n     */\n\n    fail(message: string, error?: any) {\n        let e = error ? error : message\n        this.pushStep({\n            meta: e,\n            type: 'fail',\n            level: 'danger',\n            message,\n            checkoutAt: this.fullName\n        })\n        return e instanceof Error ? e : new Error(e)\n    }\n\n    /**\n     * \u767C\u51FA\u932F\u8AA4\u7684\u8A0A\u606F\uFF0C\u901A\u5E38\u8868\u793A\u65BC\u6574\u500B\u61C9\u7528\u7A0B\u5F0F\u767C\u751F\u932F\u8AA4\n     */\n\n    wrong(message: any) {\n        this.pushStep({\n            meta: message,\n            type: 'wrong',\n            level: 'danger',\n            message,\n            checkoutAt: this.fullName\n        })\n    }\n\n    /**\n     * \u5207\u51FA\u4E00\u500B\u5206\u652F\u6709\u5229\u65BC\u8FFD\u8E64\n     */\n\n    checkout(name: string): Pick<Interaction, 'wrong' | 'notify' | 'checkout' | 'step' | 'fail'> {\n        const branch = new Interaction({\n            name,\n            interceptorMessage: this.interceptorMessage\n        })\n        branch.parent = this\n        return {\n            step: branch.step.bind(branch),\n            fail: branch.fail.bind(branch),\n            wrong: branch.wrong.bind(branch),\n            notify: branch.notify.bind(branch),\n            checkout: branch.checkout.bind(branch)\n        }\n    }\n\n    /**\n     * \u767C\u51FA\u901A\u77E5\u7684\u8A0A\u606F\n     */\n\n    notify(type: 'info' | 'warning' | 'danger' | 'success', content: any) {\n        this.pushStep({\n            meta: content,\n            type: 'notify',\n            level: type,\n            message: content as any,\n            checkoutAt: this.fullName\n        })\n    }\n}\n", "import { Cache } from './cache'\nimport { QueryCollection } from './query-collection'\n\ntype PoolParams<P, D> = {\n    find: (_data: D, _params: P, _index: number) => boolean\n    fetch: (_params: P[]) => Promise<D[]>\n    cache?: {\n        ttl?: number\n        maxSize?: number\n    }\n    collection?: {\n        waitTime?: number\n    }\n}\n\n/**\n * \u8F15\u9B06\u767C\u51FA\u8ACB\u6C42\u8207\u5FEB\u53D6\u8ACB\u6C42\u8CC7\u6599\u7684\u8CC7\u6599\u6C60\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/pool.md\n */\n\nexport class Pool<P, D> {\n    private dataCache: Cache<P, D>\n    private dataCollection: QueryCollection<P, D>\n    constructor({ find, fetch, cache, collection }: PoolParams<P, D>) {\n        this.dataCollection = new QueryCollection<P, D>({\n            waitTime: collection?.waitTime || 100,\n            query: async(items) => {\n                let result = await fetch(items)\n                return result\n            }\n        })\n        this.dataCache = new Cache<P, D>({\n            ttl: cache?.ttl || 1000 * 60 * 5,\n            maxSize: cache?.maxSize || 100,\n            key: params => JSON.stringify(params),\n            pick: async(params) => {\n                let items = await this.dataCollection.push(params)\n                return items.find((item, index) => find(item, params, index))!\n            }\n        })\n    }\n\n    /** \u7372\u53D6\u8CC7\u6599 */\n\n    async pick(params: P) {\n        const result = this.dataCache.get(params)\n        return result\n    }\n\n    /** \u6279\u6B21\u7372\u53D6\u8CC7\u6599 */\n\n    async list(paramsItems: P[]) {\n        const result = await Promise.all(paramsItems.map(params => this.dataCache.get(params)))\n        return result\n    }\n\n    /** \u6E05\u9664\u6307\u5B9A cache */\n\n    remove(params: P) {\n        this.dataCache.remove(params)\n    }\n\n    /** \u5BEB\u5165\u8CC7\u6599 */\n\n    set(params: P, data: D) {\n        this.dataCache.set(params, data)\n    }\n\n    /** \u6E05\u7A7A cache */\n\n    clear() {\n        this.dataCache.clear()\n    }\n}\n", "import { Event } from './event'\n\ntype Params<T> = {\n    handler: () => Promise<T>\n}\n\n/**\n * \u9650\u5236\u53EA\u57F7\u884C\u4E00\u6B21\u7684\u975E\u540C\u6B65\u7A0B\u5F0F\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/once.md\n */\n\nexport class Once<T> {\n    private isDone = false\n    private isError = false\n    private event = new Event<{ onload: any }>()\n    private response: T | null = null\n    private params: Params<T>\n    constructor(params: Params<T>) {\n        this.params = params\n    }\n\n    /** \u57F7\u884C\u7A0B\u5F0F */\n\n    async run(): Promise<T> {\n        return new Promise((resolve, reject) => {\n            const action = () => {\n                if (this.isError) {\n                    reject(this.response)\n                } else {\n                    resolve(this.response!)\n                }\n            }\n            if (this.isDone) {\n                action()\n            } else {\n                this.event.on('onload', (data, context) => {\n                    context.off()\n                    action()\n                })\n                if (this.event.getEventListenerSize('onload') === 1) {\n                    this.params\n                        .handler()\n                        .then(item => {\n                            this.response = item\n                        })\n                        .catch(error => {\n                            this.response = error\n                            this.isError = true\n                        })\n                        .finally(() => {\n                            this.isDone = true\n                            this.event.emit('onload', {})\n                        })\n                }\n            }\n        })\n    }\n\n    /** \u91CD\u7F6E\u72C0\u614B */\n\n    reset() {\n        this.isDone = false\n        this.isError = false\n        this.response = null\n    }\n}\n", "import { Once } from './once'\nimport { record } from '../utils/record'\n\nexport type AssetParams = {\n    images: {\n        [key: string]: string | (() => Promise<HTMLImageElement>)\n    }\n    audios: {\n        [key: string]: string | (() => Promise<HTMLAudioElement>)\n    }\n}\n\n/**\n * \u8CC7\u6E90\u8F09\u5165\u5DE5\u5177\uFF0C\u76EE\u7684\u662F\u521D\u59CB\u5316\u5FC5\u8981\u7684\u975C\u614B\u8CC7\u6E90\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/asset.md\n */\n\nexport class Asset<T extends AssetParams> {\n    _images: any = {}\n    _audios: any = {}\n    _onecLoad = new Once({\n        handler: async() => {\n            const images: any = {}\n            const audios: any = {}\n            for (let key in this.params.images) {\n                let value = this.params.images[key]\n                let result = typeof value === 'string' ? Asset.loadImage(value) : value()\n                images[key] = result\n            }\n            for (let key in this.params.audios) {\n                let value = this.params.audios[key]\n                let result = typeof value === 'string' ? Asset.loadAudio(value) : value()\n                audios[key] = result\n            }\n            this._images = await record.promiseAllWithKeys(images)\n            this._audios = await record.promiseAllWithKeys(audios)\n            this.loaded = true\n        }\n    })\n\n    loaded = false\n    params: T\n    constructor(params: T) {\n        this.params = params\n    }\n\n    static async loadImage(src: string) {\n        return new Promise<HTMLImageElement>((resolve, reject) => {\n            let image = new Image()\n            image.onload = () => resolve(image)\n            image.onerror = reject\n            image.src = src\n        })\n    }\n\n    static async loadAudio(src: string) {\n        return new Promise<HTMLAudioElement>((resolve, reject) => {\n            let audio = new Audio()\n            audio.onloadedmetadata = () => resolve(audio)\n            audio.onerror = reject\n            audio.src = src\n        })\n    }\n\n    async load() {\n        await this._onecLoad.run()\n    }\n\n    getImage<K extends keyof T['images']>(key: K) {\n        return this._images[key] as any as HTMLImageElement\n    }\n\n    getAudio<K extends keyof T['audios']>(key: K) {\n        return this._audios[key] as any as HTMLAudioElement\n    }\n\n    async getImagePromise<K extends keyof T['images']>(key: K) {\n        await this.load()\n        return this._images[key] as any as HTMLImageElement\n    }\n\n    async getAudioPromise<K extends keyof T['audios']>(key: K) {\n        await this.load()\n        return this._audios[key] as any as HTMLAudioElement\n    }\n}\n", "type Intercept = {\n    Set: (_name: string, _data: any) => Promise<any>\n    Get: (_name: string, _data: any, _context: {\n        /** Storage */\n        storage: AsyncLocalStorage<any>\n        /** \u662F\u5426\u662F\u63A1\u7528\u9810\u8A2D\u503C */\n        isDefault: boolean\n        /** \u7372\u53D6\u9810\u8A2D\u503C */\n        defaultValue: () => Promise<any>\n    }) => Promise<any>\n}\n\ntype CusStorage = {\n    keys: () => Promise<string[]>\n    getItem(key: string): Promise<string | null>\n    setItem(key: string, value: string): Promise<void>\n    removeItem(key: string): Promise<void>\n}\n\n/**\n * \u975E\u540C\u6B65\u7684\u64CD\u4F5C LocalStorage\uFF0C\u6709\u52A9\u65BC\u64F4\u5C55\u66F4\u591A\u61C9\u7528\u6A21\u5F0F\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/async-local-storage.md\n */\n\nexport class AsyncLocalStorage<T extends Record<string, any>> {\n    private options?: {\n        storageSystem: CusStorage\n        defaultColumns?: Partial<{\n            [K in keyof T]: () => Promise<T[K]>\n        }>\n        intercept?: {\n            get?: Intercept['Get']\n            set?: Intercept['Set']\n        }\n    }\n\n    private storage: CusStorage\n    private namespaces: string\n    private interceptGet: Intercept['Get'] | null = null\n    private interceptSet: Intercept['Set'] | null = null\n    constructor(namespaces: string, options: {\n        /** \u6307\u5B9A\u904B\u884C\u7684 LocalStorage \u74B0\u5883\uFF0C\u5047\u5982\u4F60\u60F3\u61C9\u7528\u5728\u5176\u4ED6\u4E0D\u540C\u7684\u7CFB\u7D71\u4E0A\u5FC5\u9808\u8A2D\u5B9A\u6B64\u53C3\u6578 */\n        storageSystem: CusStorage\n        /** \u5047\u5982\u8A72\u6B04\u4F4D\u5C1A\u672A\u5BEB\u5165\u6642\u7D66\u4E88\u9810\u8A2D\u503C */\n        defaultColumns?: Partial<{\n            [K in keyof T]: () => Promise<T[K]>\n        }>\n        /** \u6514\u622A\u76F8\u95DC get set \u8A2D\u5B9A */\n        intercept?: {\n            /** \u6514\u622A\u8CC7\u6599\u7372\u53D6 */\n            get?: Intercept['Get']\n            /** \u6514\u622A\u8CC7\u6599\u8A2D\u5B9A */\n            set?: Intercept['Set']\n        }\n    }) {\n        this.options = options\n        this.storage = options.storageSystem\n        this.namespaces = namespaces\n        if (options) {\n            if (options.storageSystem) {\n                this.storage = options.storageSystem\n            }\n            if (options.intercept) {\n                if (options.intercept.get) {\n                    this.interceptGet = options.intercept.get.bind(this)\n                }\n                if (options.intercept.set) {\n                    this.interceptSet = options.intercept.set.bind(this)\n                }\n            }\n        }\n    }\n\n    static storageToAsyncStorage(storage: Storage): CusStorage {\n        return {\n            keys: async() => Object.keys(storage),\n            getItem: async(key: string) => storage.getItem(key),\n            setItem: async(key: string, value: string) => storage.setItem(key, value),\n            removeItem: async(key: string) => storage.removeItem(key)\n        }\n    }\n\n    /** \u7372\u5F97\u540D\u7A31\u5B8C\u6574\u7684\u9375\u503C */\n\n    toKey(name: string | number | symbol) {\n        return `_power_a_${this.namespaces}/${name.toString()}`\n    }\n\n    /** \u8A2D\u5B9A\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    async set<K extends keyof T>(name: K, data: T[K] | ((_value: T[K]) => Promise<T[K]>)) {\n        let saveData = typeof data !== 'function' ? data : null\n        if (typeof data === 'function') {\n            const originData = await this.get(name)\n            saveData = await (data as (value: T[K]) => Promise<T[K]>)(originData)\n        }\n        if (this.interceptSet) {\n            saveData = await this.interceptSet(name as any, saveData as any)\n        }\n        await this.storage.setItem(this.toKey(name), JSON.stringify(saveData))\n    }\n\n    /** \u7372\u53D6\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    async get<K extends keyof T>(name: K): Promise<T[K]> {\n        let result: any = null\n        let options = this.options\n        let isDefault = false\n        let defaultValue = async() => null\n        if (options && options.defaultColumns && options.defaultColumns[name]) {\n            defaultValue = options.defaultColumns[name] as any\n        }\n        let data = await this.storage.getItem(this.toKey(name))\n        if (data == null) {\n            data = await defaultValue()\n            isDefault = true\n        }\n        result = isDefault ? data : (data != null ? JSON.parse(data) : null)\n        if (this.interceptGet) {\n            result = await this.interceptGet(name as any, result, {\n                storage: this,\n                isDefault,\n                defaultValue\n            })\n        }\n        return result\n    }\n\n    /** \u522A\u9664\u6574\u500B namespaces \u7684\u8CC7\u6599 */\n\n    async clear() {\n        let name = `_power_a_${this.namespaces}/`\n        let items = await this.storage.keys()\n        for (let key of items) {\n            if (key.length >= name.length && key.slice(0, name.length) === name) {\n                await this.remove(key.slice(name.length))\n            }\n        }\n    }\n\n    /** \u522A\u9664\u6307\u5B9A\u540D\u7A31\u7684\u8CC7\u6599 */\n\n    async remove<K extends keyof T>(name: K) {\n        await this.storage.removeItem(this.toKey(name))\n    }\n}\n", "import { flow } from '../utils/flow'\nimport { CacheLite } from './cache-lite'\n/**\n * \u53EF\u4EE5\u9810\u5148\u8F09\u5165\u8CC7\u6599\u4E26\u900F\u904E id \u50B3\u905E\u7D66\u9700\u8981\u7684\u5C0D\u8C61\u3002\n * @see https://github.com/KHC-ZhiHao/PowerHelper/blob/master/lib/modules/preload-port.md\n */\n\nexport class PreloadPort<I, O> {\n    _cache: CacheLite<Promise<O>>\n    _handler: (data: I) => Promise<O>\n    constructor(params: {\n        ttl?: number\n        handler: (data: I) => Promise<O>\n    }) {\n        this._handler = params.handler\n        this._cache = new CacheLite<Promise<O>>({\n            ttl: params.ttl || Infinity\n        })\n    }\n\n    create(data: I) {\n        const id = flow.createUuid()\n        this._cache.set(id, this._handler(data))\n        return id\n    }\n\n    remove(id: string) {\n        this._cache.remove(id)\n    }\n\n    clear() {\n        this._cache.clear()\n    }\n\n    async get(id: string | null | undefined, data: I) {\n        if (id) {\n            let now = this._cache.get(id)\n            if (now != null) {\n                const result = await now\n                this._cache.remove(id)\n                return result\n            }\n        }\n        const result = await this._handler(data)\n        return result\n    }\n}\n", "import { flow } from './utils/flow'\nimport { json } from './utils/json'\nimport { pick } from './utils/pick'\nimport { text } from './utils/text'\nimport { array } from './utils/array'\nimport { detect } from './utils/detect'\nimport { record } from './utils/record'\nimport { element } from './utils/element'\nimport { calc } from './utils/calc'\nimport { checker } from './utils/checker'\n\nimport { Log } from './modules/log'\nimport { I18n } from './modules/i18n'\nimport { Hook } from './modules/hook'\nimport { Once } from './modules/once'\nimport { Asset } from './modules/asset'\nimport { Event } from './modules/event'\nimport { Cache } from './modules/cache'\nimport { Timer } from './modules/timer'\nimport { Loader } from './modules/loader'\nimport { Ticker } from './modules/ticker'\nimport { Resource } from './modules/resource'\nimport { Reactive } from './modules/reactive'\nimport { Schedule } from './modules/schedule'\nimport { Debounce } from './modules/debounce'\nimport { JobsQueue } from './modules/jobs-queue'\nimport { StyleString } from './modules/style-string'\nimport { LocalStorage } from './modules/local-storage'\nimport { QueryCollection } from './modules/query-collection'\nimport { ElementListenerGroup } from './modules/element-listener-group'\nimport { WebSocketClient } from './modules/websocket'\nimport { PromiseOverlap } from './modules/promise-overlap'\nimport { CacheLite } from './modules/cache-lite'\nimport { Breakpoint } from './modules/breakpoint'\nimport { Exception } from './modules/exception'\nimport { Interaction } from './modules/interaction'\nimport { Pool } from './modules/pool'\nimport { AsyncLocalStorage } from './modules/async-local-storage'\nimport { PreloadPort } from './modules/preload-port'\n\nexport const PowerHelper = {\n    flow,\n    json,\n    text,\n    pick,\n    calc,\n    array,\n    record,\n    detect,\n    checker,\n    element,\n    Log,\n    I18n,\n    Hook,\n    Pool,\n    Once,\n    Asset,\n    Event,\n    Cache,\n    Timer,\n    Ticker,\n    Loader,\n    Schedule,\n    Debounce,\n    Reactive,\n    Resource,\n    Exception,\n    CacheLite,\n    JobsQueue,\n    Breakpoint,\n    StyleString,\n    PreloadPort,\n    Interaction,\n    LocalStorage,\n    PromiseOverlap,\n    QueryCollection,\n    WebSocketClient,\n    AsyncLocalStorage,\n    ElementListenerGroup\n}\n"],
  "mappings": "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",
  "names": ["text", "match", "size", "i", "code", "start", "end", "vars", "defaultVar", "isStart", "output", "varKey", "startFirstUnit", "endFirstUnit", "unit", "data", "format", "def", "index", "target", "keys", "key", "params", "result", "contentLength", "startLength", "endLength", "matchAt", "str", "pattern", "j", "buffer", "capturing", "skipping", "json", "data", "replacer", "flow", "cb", "ms", "resolve", "min", "max", "now", "c", "r", "params", "count", "retryMax", "fails", "error", "isBreak", "context", "reject", "state", "success", "value", "fail", "load", "pick", "data", "def", "type", "target", "path", "units", "s", "output", "key", "start", "end", "text", "isStart", "varKey", "startFirstUnit", "endFirstUnit", "i", "unit", "calc", "unit", "value", "output", "array", "size", "items", "result", "i", "take", "outputs", "loop", "item", "cb", "output", "value", "record", "template", "target", "options", "handler", "nowPeel", "output", "s", "json", "t", "key", "pick", "envs", "keyFail", "err", "type", "required", "value", "def", "valueType", "outputValue", "data", "keys", "obj", "values", "res", "acc", "cur", "index", "a", "b", "aType", "bType", "aKeys", "bKeys", "i", "getNavigator", "detect", "navigator", "ua", "platforms", "platform", "iOS", "hasSafariInUa", "noOtherBrowsersInUa", "result", "checker", "targetType", "fileType", "fileName", "acceptPatterns", "type", "pattern", "element", "url", "options", "resolve", "reject", "dom", "script", "elements", "tag", "cb", "target", "link", "Listener", "manager", "event", "callback", "data", "Event", "listeners", "listener", "allListeners", "id", "key", "e", "nodeColors", "Log", "Event", "name", "options", "time", "logType", "content", "active", "data", "now", "color", "message", "output", "replaceVar", "text", "I18n", "Event", "params", "locale", "key", "vars", "output", "Listener", "manager", "channel", "callback", "data", "Hook", "listeners", "listener", "e", "id", "key", "CacheItem", "data", "index", "ttl", "Cache", "Event", "params", "diff", "items", "a", "b", "item", "keys", "key", "resolve", "reject", "event", "errorEvent", "listener", "errorListener", "erroe", "error", "Ticker", "Event", "ms", "options", "now", "Timer", "Ticker", "timeGap", "positive", "ms", "format", "hours", "minutes", "seconds", "microseconds", "devError", "functionName", "message", "Loader", "Event", "name", "handler", "e", "devError", "data", "resolve", "reject", "promises", "result", "error", "toStyleCase", "key", "letter", "StyleString", "value", "defaultValue", "v", "element", "style", "separator", "codes", "Resource", "Event", "params", "source", "url", "name", "data", "isObjectUrl", "p", "ori", "text", "mode", "ss", "StyleString", "Schedule", "Event", "time", "diffTime", "process", "e", "name", "intervalMs", "callback", "devError", "Reactive", "Event", "params", "Schedule", "cb", "data", "schedule", "newKey", "tick", "context", "DebounceUnit", "Event", "params", "value", "Debounce", "values", "JobsQueue", "Event", "params", "job", "e", "name", "handler", "resolve", "reject", "LocalStorage", "namespaces", "options", "name", "data", "saveData", "result", "isDefault", "defaultValue", "items", "key", "QueryCollection", "params", "data", "resolve", "reject", "collection", "result", "e", "error", "ElementListenerGroup", "element", "listener", "listenerId", "name", "callback", "options", "id", "flow", "data", "e", "WebSocketClient", "Event", "params", "from", "error", "url", "opened", "System", "resolve", "reject", "event", "data", "channel", "record", "PromiseOverlap", "pick", "options", "cb", "obj", "finallyHandler", "data", "isError", "e", "result", "process", "resolve", "reject", "error", "CacheLite", "params", "now", "key", "value", "context", "result", "firstKey", "e", "Breakpoint", "params", "width", "matchs", "_name", "name", "min", "max", "ranks", "rank", "breakpoint", "Exception", "_Exception", "Event", "serviceName", "options", "error", "data", "message", "serviceException", "fail", "e", "childName", "child", "Interaction", "_Interaction", "Event", "name", "interceptorMessage", "stepMaxSize", "data", "params", "step", "visible", "e", "cb", "message", "meta", "error", "branch", "type", "content", "Pool", "find", "fetch", "cache", "collection", "QueryCollection", "items", "Cache", "params", "item", "index", "paramsItems", "data", "Once", "params", "Event", "resolve", "reject", "action", "data", "context", "item", "error", "Asset", "_Asset", "params", "Once", "images", "audios", "key", "value", "result", "record", "src", "resolve", "reject", "image", "audio", "AsyncLocalStorage", "namespaces", "options", "storage", "key", "value", "name", "data", "saveData", "originData", "result", "isDefault", "defaultValue", "items", "PreloadPort", "params", "CacheLite", "data", "id", "flow", "now", "result", "PowerHelper", "flow", "json", "text", "pick", "calc", "array", "record", "detect", "checker", "element", "Log", "I18n", "Hook", "Pool", "Once", "Asset", "Event", "Cache", "Timer", "Ticker", "Loader", "Schedule", "Debounce", "Reactive", "Resource", "Exception", "CacheLite", "JobsQueue", "Breakpoint", "StyleString", "PreloadPort", "Interaction", "LocalStorage", "PromiseOverlap", "QueryCollection", "WebSocketClient", "AsyncLocalStorage", "ElementListenerGroup"]
}
